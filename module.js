if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(bU,A,bm){var ba=false,N="198",v=13,co=42,t=bU.roistatHost,av="0.2",Y="1.0",cv="roistat_visit_cookie_expire",bM="roistat_visit",aH="roistat_first_visit",ad="roistat_is_need_listen_requests",cV="roistat_phone",au="roistat_referrer",cy="roistat_marker",aX="roistat_marker_old",bh="roistat_ab",cd="rs",B="roistat",T="leadhunter_expire",H=5*60*60,bn="roistat_leadHunterEnabled",n="roistat_leadHunterTargetPagesMap",b7="roistat_leadHunterCallbackSettings",aF="roistat_leadHunterScriptId",O="roistat_isleadHunterScriptIdActive",aU="roistat_multiwidgetEnabled",bE="roistat_multiwidgetVKEnabled",cl="roistat_multiwidgetVKLink",I="roistat_multiwidgetFBEnabled",cF="roistat_multiwidgetFBLink",b9="roistat_multiwidgetTelegramEnabled",a8="roistat_multiwidgetTelegramLink",cj="roistat_onlineChatEnabled",w="roistat_onlineChatSettings",d=7*24*60*60,cq={expires:d,path:"/"},Z="roistat-promo",af="roistat-phone",z="roistat-phone-country",aa="roistat-phone-region",C="roistat-phone-number",cN="roistat-phone-tel",bt="country",aA="region",a1="number",bH="tel",l="roistat_call_tracking",P="roistat-js-script",bf="roistat_phone_replacement",a2="roistat_phone_script_data",cn="roistat-visit-id",aI="roistat_metrika_counter_id",h="roistat_marker_from_referrer",be="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bq="roistat_emailtracking_emails",cP="roistat_proxy_forms",cs="roistat_isMultiDomain",cg=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],bN="roistat_debug",aL="roistat_settings_saved",b0="nocookie",aJ=["yandex.ru"],ar="beta_test",cb="roistat_settings_version",bC="roistat-leadhunter-form-template",bd="roistat-leadhunter-pulsator-template",bB="roistat-leadhunter-pulsator-settings",a9="roistat-online-chat-pulsator-template",x="roistat-online-chat-iframe-template",cz="roistat-multiwidget-pulsator-template",e="roistat-multiwidget-pulsator-settings",R="roistat_last_settings_update_time";
var bz="ru",cS="en",W,p;var cE=t.replace(/^cloud\./,"");var cA="cllctr."+cE;var bD={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var bO={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var cp={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(bU.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}bU.roistatAlreadyStarted=true;if(bU.roistatCookieDomain){cq.domain=bU.roistatCookieDomain}bU.roistat={version:N,getSource:function(){return bO.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(c0){bO.visitFromUser=c0},registerOnVisitProcessedCallback:function(c0){b8(c0)},registerOnCalltrackingPhoneReceivedCallback:function(c0){bb(c0)},disableCallTracking:function(){bD.callTrackingEnabled=false},setCallTrackingManualMode:function(){bD.callTrackingManual=true},setJSONPRequestTimeout:function(c0){bD.jsonpRequestTimeout=c0},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){s("Warning: used emailtracking refresh before module init")}},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[],},},multiwidget:{isEnabled:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},authClientById:function(c0){ap(c0,bm)},authClientByEmail:function(c0){ap(bm,c0)}};var ap=function(c0,c3){if(!bO.isVisitProcessed){s("Visit is not processed, return");return}var c4=c0!==bm&&c0.length>0,c7=c3!==bm&&c3.length>0;if(!c4&&!c7){s("Invalid client params, return");return}var c5=m();if(c5<=0){s("Invalid arguments, return");return}var c6="roistat_authorized_client",c8=bR.get(c6),c2=c4?c0:c3;if(c8===c2){s('Client "'+c2+'" is already authorized, return');return}s("Auth client: "+c2);bR.set(c6,c2);var c1=G()+"/update-visit-by-client?visit="+c5+"&v="+N;if(c4){c1+="&client_id="+encodeURIComponent(c0)}if(c7){c1+="&client_email="+encodeURIComponent(c3)}aG(c1)};var cI=function(c3,c1){var c2=c3.length;for(var c0=0;c0<c2;c0++){if(c1===c3[c0]){return true}}return false};var U=function(){return i(ar)>0};var aO=function(){return bU.roistatProjectId};var cc=function(){return aO().replace(/\D/g,"")};var a4=function(c0){var c1=cc();return cI(c0,c1)};var ci=function(c0){return JSON.parse(JSON.stringify(c0))};var bi=function(){var c1=ci(cq),c0=parseInt(bR.get(cv));c1.expires=c0>0?c0:d;return c1};var b8=function(c0){if(!bO.isVisitProcessed){cp.onVisitProcessed.push(c0)}else{c0()}};var ck=function(){bO.isVisitProcessed=true;s("[Roistat] visit id set. Processing callbacks");var c1=cp.onVisitProcessed.length;for(var c0=0;c0<c1;c0++){cp.onVisitProcessed[c0]()}if(bU.roistatVisitCallback!==bm){bU.roistatVisitCallback(bU.roistat.getVisit())}};var bb=function(c0){cp.onCallTrackingPhoneReceived.push(c0)};var cG=function(){var c1=cp.onCallTrackingPhoneReceived.length;for(var c0=0;c0<c1;c0++){cp.onCallTrackingPhoneReceived[c0]()}};var al=function al(c0){cp.onSPAPageChanged.push(c0)};var bK=function bK(){s("[Roistat] SPA page changed. Processing callbacks");var c1=cp.onSPAPageChanged.length;for(var c0=0;c0<c1;c0++){cp.onSPAPageChanged[c0]()}};var ab=function(c4,c3){var c2=c4.className.split(" "),c1=false,c0;for(c0=0;c0<c2.length;c0++){if(c2[c0]===c3){c1=true;break}}if(!c1){c2.push(c3);c4.className=c2.join(" ")}};var bL=function(c3,c2){var c1=c3.className.split(" "),c0;for(c0=0;c0<c1.length;c0++){if(c1[c0]===c2){c1.splice(c0,1);c3.className=c1.join(" ");break}}};var aq=function(c1){try{return decodeURIComponent(c1)}catch(c2){var c0;c0=u(c1);if(c0===null){return c1}return c0}};var by={visitor_uid:function(){s("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!cZ(bU.AMOPIXEL_IDENTIFIER)||!L(bU.AMOPIXEL_IDENTIFIER.getVisitorUid)){s("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var c0=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!aK(c0)){s("AmoCrmUID: visitor_uid value must be a string");return null}return c0}};var ao=function(){for(var c1 in by){var c0=by[c1]();if(c0===null){continue}cO(c1,c0,cq)}};var aY=function(){return["_ym_uid","_ga"].concat(D(by))};var u=function(c4){var c3={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};
var c1="";var c2=0;while(c2<c4.length){var c0=c4.substring(c2,c2+3);if(Object.prototype.hasOwnProperty.call(c3,c0)){c1+=c3[c0];c2+=3}else{c1+=c4.substring(c2,c2+1);c2++}}try{return decodeURIComponent(c1)}catch(c5){return null}};bU.roistatVersion=N;var bg,M=[],b4=a4(["9978269456320005528414","325483621352862148"]),o=cc().slice(-15)%20===0||a4(["9978269456320005528414","593119171370269"]),j,b2=true,b6=A.location.href,aZ="",aE="",a6=new Date().getTime(),cx=false,cf=bU.roistatPhonePrefix?bU.roistatPhonePrefix:"",cW=bU.roistatPhonePrefixBind?bU.roistatPhonePrefixBind:"",J=bU.roistatCalltrackingScripts&&bU.roistatCalltrackingScripts.join?bU.roistatCalltrackingScripts.join(","):"";var i,cO;i=bU.roistatGetCookie=function(c0){var c1=A.cookie.match(new RegExp("(?:^|; )"+c0.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return c1?aq(c1[1]):bm};cO=bU.roistatSetCookie=function(c3,c5,c2){c2=c2||{};var c1=c2.expires;if(typeof c1=="number"&&c1){var c7=new Date();c7.setTime(c7.getTime()+c1*1000);c1=c2.expires=c7}if(c1&&c1.toUTCString){c2.expires=c1.toUTCString()}c5=encodeURIComponent(c5);var c0=c3+"="+c5;for(var c4 in c2){c0+="; "+c4;var c6=c2[c4];if(c6!==true){c0+="="+c6}}A.cookie=c0};var bl=function(c1,c3,c2){var c0=c1[c3];c1[c3]=function(){if(c0){c0.apply(this,arguments)}c2.apply(this,arguments)}};var X=function(c2,c1,c3){if(c2.addEventListener){c2.addEventListener(c1,c3,false);return}var c0="on"+c1;if(c2.attachEvent){c2.attachEvent(c0,c3);return}if(c0 in c2){bl(c2,c0,c3);return}if(c1 in c2){bl(c2,c1,c3);return}s("Handler could not be attached")};var q=function(c3,c2){var c1=c3.length;for(var c0=0;c0<c1;c0++){c2(c3[c0])}};var D=function(c0){var c1=[];a5(c0,function(c2,c3){c1.push(c2)});return c1};var a5=function(c0,c2){for(var c1 in c0){if(Object.prototype.hasOwnProperty.call(c0,c1)){c2(c1,c0[c1])}}};var bc=function(c0){return Object.prototype.toString.call(c0)==="[object Array]"};var aB=function(c1){if(typeof c1!=="object"){return false}for(var c0 in c1){if(c1.hasOwnProperty(c0)){return true}}return false};var cK=function(c1){try{var c0=JSON.parse(c1);if(c0&&typeof c0==="object"){return c0}}catch(c2){}return null};if(A.getElementsByClassName==bm){A.getElementsByClassName=function(c1){var c0=[];var c5=new RegExp("\\b"+c1+"\\b");var c4=this.getElementsByTagName("*");for(var c3=0;c3<c4.length;c3++){var c2=c4[c3].className;if(c5.test(c2)){c0.push(c4[c3])}}return c0}}var at=function(){return String.fromCharCode};var cm=function(c2){var c0="";for(var c1=0;c1<c2.length;++c1){c0+=at()(co^c2.charCodeAt(c1))}return c0};var az=function(c0){return encodeURIComponent(cm(bY.encode(c0)))};var bY={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c2){var c0="";var c9,c7,c5,c8,c6,c4,c3;var c1=0;c2=bY._utf8_encode(c2);while(c1<c2.length){c9=c2.charCodeAt(c1++);c7=c2.charCodeAt(c1++);c5=c2.charCodeAt(c1++);c8=c9>>2;c6=((c9&3)<<4)|(c7>>4);c4=((c7&15)<<2)|(c5>>6);c3=c5&63;if(isNaN(c7)){c4=c3=64}else{if(isNaN(c5)){c3=64}}c0=c0+this._keyStr.charAt(c8)+this._keyStr.charAt(c6)+this._keyStr.charAt(c4)+this._keyStr.charAt(c3)}return c0},decode:function(c2){var c0="";var c9,c7,c5;var c8,c6,c4,c3;var c1=0;c2=c2.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c1<c2.length){c8=this._keyStr.indexOf(c2.charAt(c1++));c6=this._keyStr.indexOf(c2.charAt(c1++));c4=this._keyStr.indexOf(c2.charAt(c1++));c3=this._keyStr.indexOf(c2.charAt(c1++));c9=(c8<<2)|(c6>>4);c7=((c6&15)<<4)|(c4>>2);c5=((c4&3)<<6)|c3;c0=c0+String.fromCharCode(c9);if(c4!=64){c0=c0+String.fromCharCode(c7)}if(c3!=64){c0=c0+String.fromCharCode(c5)}}c0=bY._utf8_decode(c0);return c0},_utf8_encode:function(c1){c1=c1.replace(/\r\n/g,"\n");var c0="";for(var c3=0;c3<c1.length;c3++){var c2=c1.charCodeAt(c3);if(c2<128){c0+=String.fromCharCode(c2)}else{if((c2>127)&&(c2<2048)){c0+=String.fromCharCode((c2>>6)|192);c0+=String.fromCharCode((c2&63)|128)}else{c0+=String.fromCharCode((c2>>12)|224);c0+=String.fromCharCode(((c2>>6)&63)|128);c0+=String.fromCharCode((c2&63)|128)}}}return c0},_utf8_decode:function(c0){var c4="";var c6=0;var c7=0;var c5=0;var c1=0;while(c6<c0.length){c7=c0.charCodeAt(c6);if(c7<128){c4+=String.fromCharCode(c7);c6++}else{if((c7>191)&&(c7<224)){c5=c0.charCodeAt(c6+1);c4+=String.fromCharCode(((c7&31)<<6)|(c5&63));c6+=2}else{c5=c0.charCodeAt(c6+1);c1=c0.charCodeAt(c6+2);c4+=String.fromCharCode(((c7&15)<<12)|((c5&63)<<6)|(c1&63));c6+=3}}}return c4}};var bj=function(){return A[at()(99,111,111,107,105,101)]};var ah=function(){cR();var c0={c:cD()};return az(JSON.stringify(c0))};var ca=function(){var c0=m();return(c0===bm||c0===null)?b0:c0};var cD=function(){var c0=[];for(var c1 in bO.cookies){if(!Object.prototype.hasOwnProperty.call(bO.cookies,c1)){continue}c0.push(c1+"="+bO.cookies[c1])}return c0.join("; ")};var cR=function(){var c0=k();for(var c1 in c0){if(!Object.prototype.hasOwnProperty.call(c0,c1)){continue}bO.cookies[c1]=c0[c1]}};var ag=function(c0){cO(cy,c0,bi());bO.source.marker=c0};var ac=function(){return i(cy)};var f=function(){a5(bU.roistat.page.params,function(c1,c0){bO.pageParams[c1]=c0
})};var k=function(){var c3=bj();var c4=c3.split("; ");var c0={};for(var c2=0;c2<c4.length;c2++){var c7=c4[c2];if(c7===""){continue}var c1=c7.split("=");if(c1.length<2){continue}var c6=c1[0].trim();var c5=c1[1].trim();c0[c6]=c5}return c0};var g=function(){return at()(104,97,115,104)};var ay=function(c0){return c0.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var bJ={isAvailable:function(){var c0=false;if(!bU.sessionStorage||!bU.sessionStorage.setItem||!bU.sessionStorage.getItem||!bU.sessionStorage.removeItem){return c0}try{bU.sessionStorage.setItem("testKey","testValue");c0=bU.sessionStorage.getItem("testKey")==="testValue";bU.sessionStorage.removeItem("testKey")}catch(c1){return false}return c0},remove:function(c0){if(this.isAvailable()){bU.sessionStorage.removeItem(c0)}},setObject:function(c0,c1){if(this.isAvailable()){bU.sessionStorage.setItem(c0,JSON.stringify(c1))}},getObject:function(c1){var c0=null;if(this.isAvailable()){c0=bU.sessionStorage.getItem(c1);c0=JSON.parse(c0)}return c0},set:function(c0,c1){if(this.isAvailable()){bU.sessionStorage.setItem(c0,c1)}},get:function(c1){var c0=null;if(this.isAvailable()){c0=bU.sessionStorage.getItem(c1)}return c0}};var bR={isAvailable:function(){var c0=false;if(!bU.localStorage||!bU.localStorage.setItem||!bU.localStorage.getItem||!bU.localStorage.removeItem){return c0}try{bU.localStorage.setItem("testKey","testValue");c0=bU.localStorage.getItem("testKey")==="testValue";bU.localStorage.removeItem("testKey")}catch(c1){return false}return c0},remove:function(c1){if(this.isAvailable()){bU.localStorage.removeItem(c1)}else{var c0=new Date(1970,1,1);cO(c1,"",{expires:c0.toUTCString()})}},setObject:function(c0,c1){if(this.isAvailable()){localStorage.setItem(c0,JSON.stringify(c1))}},getObject:function(c1){var c0=null;if(this.isAvailable()){c0=localStorage.getItem(c1);c0=cK(c0)}return c0},set:function(c0,c1){if(this.isAvailable()){localStorage.setItem(c0,c1)}else{cO(c0,c1,cq)}},save:function(c1,c2,c0){if(this.isAvailable()){localStorage.setItem(c1,c2)}cO(c1,c2,c0)},get:function(c1){var c0=null;if(this.isAvailable()){c0=localStorage.getItem(c1)}if(c0===null){c0=i(c1)}return c0}};var bG=function(){return !bF(A.referrer)?A.referrer:null};var L=function(c0){return typeof c0==="function"};var cZ=function(c0){return typeof c0==="object"};var aK=function(c0){return typeof c0==="string"};var Q=function(c3,c2){c2=typeof c2!=="undefined"?c2:false;var c4=function(c7){var c6=null;var c8=new RegExp("[#&?]("+c3+"=[^#&?]+)");if(c8.test(c7)){c6=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var c5=aq(c6);return c6&&c5?c5:c6};var c0=c4(b6);if(c2){var c1=A.referrer;if(c0===null&&c1){c0=c4(c1)}}return c0};var cC=function(c1,c2){var c0=false;if(c1&&c2){c0=c1.split(c2).join("")!==c1}return c0};if(Q(bN)==="1"||k()[bN]==="1"){ba=true}var aT=function(){if("https:"===A.location.protocol){return"https:"}else{return"http:"}};var K=function(c1){var c0=A.createElement("img");c0.src=c1;s("sendRequestByUrl: "+c1)};var aG=function(c1){s("sendApiRequestJSONP: init with url "+c1);var c0=A.createElement("script");c0.onload=c0.onreadystatechange=function(){var c3=this.readyState?this.readyState:"unknown";s("sendApiRequestJSONP: script state changed to "+c3)};c0.src=c1;c0.type="text/javascript";c0.async=true;var c2=A.getElementsByTagName("script")[0];c2.parentNode.insertBefore(c0,c2);s("sendApiRequestJSONP: script appended")};var b5=function(){var c1=A.createElement("link"),c0=A.getElementsByTagName("head");c1.setAttribute("rel","stylesheet");c1.setAttribute("href",aT()+"//"+t+"/dist/module.css?"+N);if(c0.length>0){c0[0].appendChild(c1)}};var bX=function(){return b1()||cX()};var b1=function(){return a0()!==null};var cX=function(){return bT()!==null};var cw=function(){var c0=ct();if(c0!==null){cO(bM,c0,bi())}};var ct=function(){return a0()||bT()||null};var a0=function(){return Q("roistat_visit")};var bT=function(){return bO.visitFromUser};var a=function(c1,c0){if(!c0&&(bO.isSettingsUpdating||!A.hasFocus())){s("Already updating settings or document not in focus, return");return}var c2=G()+"/get-settings?v="+N+"&visit="+c1;s("Request new settings");bO.isSettingsUpdating=true;aG(c2)};var aC=function(){return bR.get(aL)>0};var cL=function(){bR.set(aL,1)};var an=function(){bR.remove(bC);bR.remove(bd);bR.remove(bB);bR.remove(a9);bR.remove(x);bR.remove(cj);bR.remove(cz);bR.remove(e)};var bP=function(){var c4=function(){return bR.get(cb)};var c3=function(){bR.set(cb,v)};var c1=function(){return typeof c4()==="string"};var c0=function(){const c5=Number(c4())>v;s("Settings Version: settings version change status - "+c5);return c5};var c2=function(){var c5=1000*60*60*24;var c8=cH();var c7=bW()-c8;var c6=c7>c5;s("Settings Version:: expiration day check: lastUpdateTime="+c8+", _lastUpdateTimeDiff="+c7+", _oneDayDiffInMs="+c5+", result="+(c6?1:0));return c6};if(!c1()){s("Settings Version: set settings version up to 1");c3()}if(c2()||c0()){s("Settings Version: clear settings");
an()}};var cT=function(){s("Call: Init");s("Counter version: "+N);if(Q("roistat_ab_demo")==="1"){s("Roistat initialisation rejected: ab test preview mode");return}b5();a3();ch();if((!ae()||cY())&&!bU.roistatOnlineChatOnly){cx=true;bo()}else{bP();cw();var c0=m();bu();aR();cu();roistat.visit=c0;bO.source.marker=ac();var c1=aC();if(!c1){a(c0)}else{ck()}}if(!o){cJ()}};var E=function(c2){if(!c2.isEnabled){return true}var c0=new Date();var c9=new Date().toISOString();var c6=c0.getUTCDay()===0?7:c0.getDay();var c7=c6===6||c6===7;var c5=new Date(c2.weekdaysTime.from).toISOString();var c1=new Date(c2.weekdaysTime.to).toISOString();var da=new Date(c2.weekendsTime.from).toISOString();var c3=new Date(c2.weekendsTime.to).toISOString();var c8=false;for(var c4=0;c4<c2.days.length;c4++){if(c6===c2.days[c4]){c8=true}}if(!c8){return false}if(c7){return c9>=da&&c9<=c3}return c9>=c5&&c9<=c1};var a3=function(){s("Call: initMarker");bg=bZ();s("Call: inited marker: "+bg)};var ch=function(){s("Call: initReferrer");j=bG();s("Call: end initReferrer: "+j)};var bF=function(c2){if(!c2){return true}var c0=aS(c2);var c1=aS(A.domain);if(c0===c1){return true}var c3=bA();if(c3===null){return false}if(cC(c0,c3)&&cC(c1,c3)){return true}return false};var bA=function(){if(typeof cq.domain==="string"&&cq.domain!==""){return aS(cq.domain)}return null};var aS=function(c0){var c1=c0.split("http://").join("").split("https://").join("").split("www.").join("");return c1.split("/")[0]};var bZ=function(){var c5=i(h)>0;var c7=null;var c2=function(da){return da.split("_").join(":u:")};var c9=function(db){var da=false;q(aJ,function(dc){if(db.indexOf(dc)>-1){da=true}});return da};var c8=function(){var da=false;var db;db=Q(B,c5);if(db!==null){c7=db;da=true}db=Q(cd,c5);if(db!==null){c7=db;da=true}return da};var c3=function(){var da=false;var db=ac();if(db){c7=db;da=true;b2=false}return da};var c1=function(){var da=false;var dc=Q("utm_source",c5);if(dc!==null){da=true;c7=":utm:"+c2(dc);var de=["utm_medium","utm_campaign","utm_content","utm_term"];var db;for(var dd=0;dd<de.length;dd++){db=Q(de[dd],c5);if(db!==null){c7=c7+"_"+c2(db)}}}return da};var c4=function(){var dc,db,da=false;db=Q("_openstat",c5);if(!db){return false}if(c6(db)){dc=db}else{dc=encodeURI(bY.decode(db));if(!c6(dc)){dc=db}}if(dc){dc=c2(dc).split(";").join("_");c7=":openstat:"+dc;da=true}return da};var c6=function(da){return da.match(/^([^;]*(;[^;]*){3})$/)!==null};var c0=function(){var da=false;var db=A.referrer;if(bF(db)){return da}var dc=Q("from",c5);if(dc!==null&&!cC(dc,"http")){if(!c9(dc)){da=true;c7=c2(dc)}}return da};if(c8()){ce("Init marker: init from RS param "+c7);return c7}if(c1()){ce("Init marker: init from UTM "+c7);return c7}if(c4()){ce("Init marker: init from OpenStat "+c7);return c7}if(c0()){ce("Init marker: init from custom tag "+c7);return c7}ce("Init marker: try init from cookie "+c7);c3();return c7};var m=function(){return bR.get(bM)};var S=function(){s("Call: saveReferrer");bR.set(au,j)};var bI=function(){s("Call: removeReferrer");bR.remove(au)};var cJ=function(){cO(aX,aq(bg),bi())};var cu=function(){s("Call: refreshPromoCode");if(bU.roistatOnlineChatOnly){s("PromoCode: Shut down because only online chat need to be inited");return}var c0=function(){return i(bM)};ak(c0());if(!bU.onload){bU.onload=function(){ak(c0())}}setTimeout(function(){ak(c0())},50);setTimeout(function(){ak(c0())},200);setTimeout(function(){ak(c0())},2000);setTimeout(function(){ak(c0())},10000)};bU.roistatPromoCodeRefresh=cu;var cM=function(){var c0=[];var c1=A.getElementsByClassName(Z);if(c1&&c1.length){c0=c1}return c0};var ak=function(c0){var c3=cM();s("setPromoCode: "+c0+" in "+c3.length+" elements");for(var c2=0;c2<c3.length;c2++){var c1=c3[c2];c1.innerHTML=c0?c0:""}};var br=function(){var c2=bZ(),c1=i(aX),c4=c2!==null,c3=true;var c6=aq(aq(c2)).toLowerCase().split("+").join(" "),c5=aq(aq(c1)).toLowerCase().split("+").join(" ");if(c2&&c1){c3=c6!==c5}var c0=c4&&c3;aE="Call: needOverrideByMarker (result "+(c0?"true":"false")+") with current "+c2+":"+c6+" and old "+c1+":"+c5;ce(aE);return c0};var ax=function(){var c1=function(c9){return/[\u0400-\u04FF]/.test(c9)};var c8=false,c5=j,c0=bR.get(au),c7=bU.location.host;if(!c5||!c7){ce("Call: needOverrideByReferrer (result "+(c8?"true":"false")+"), skip because one of params is empty");return c8}c7=aS(c7);c5=aq(c5);c0=aq(c0);var c3=aS(c5);if(cC(c5,"xn--")&&c1(c7)){ce("Call: needOverrideByReferrer (result "+(c8?"true":"false")+"), skip because of bugs with punycode in FF");return c8}if(!c3){ce("Call: needOverrideByReferrer (result "+(c8?"true":"false")+"), skip because current referrer is null");return c8}if(!c0){c8=!cC(c3,c7);ce("Call: needOverrideByReferrer (result "+(c8?"true":"false")+"), compare current referrer and host");return c8}if(cC(c5,c0)){ce("Call: needOverrideByReferrer (result "+(c8?"true":"false")+"), skip because the same referrer");return c8}var c6=c7.split(".").length>2&&c3.split(".").length>2;var c4=bU.roistatCookieDomain!==bm&&bU.roistatCookieDomain!==c7;
var c2=c3.split(".").slice(1).join(".")===c7.split(".").slice(1).join(".");if(c6&&c4&&c2){ce("Call: needOverrideByReferrer (result "+(c8?"true":"false")+"), skip because sub domains of same domain");return c8}c8=!(cC(c3,c7)||(cC(c7,c3)));ce("Call: needOverrideByReferrer (result "+(c8?"true":"false")+") referrerHost: "+c3+", currentHost: "+c7);return c8};var bv=function(){return Q("utm_nooverride")==="1"};var cY=function(){return !bX()&&!bv()&&(br()||ax())};var bw=function(c1,c0){return(c1&&c0&&c1!=c0)};var aV=function(c2){var c0=["cookieExpire"];var c4=c2.leadHunterEnabled;if(Number(bR.get(bn))!==Number(c2.leadHunterEnabled)){bR.set(bn,Number(c2.leadHunterEnabled))}if(c4){var c3={expires:H,path:"/"};if(cq.domain){c3.domain=cq.domain}cO(T,1,c3)}for(var c1 in c2){if(!Object.prototype.hasOwnProperty.call(c2,c1)){continue}if(!c4&&c1.indexOf("leadHunter")>=0&&c1.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!aj(c0,c1)){bR.set("roistat_"+c1,c2[c1])}}};var cr=function(c0){if(!c0){return}roistat.multiwidget={isEnabled:c0.is_enabled,vk:{isEnabled:c0.vk.is_enabled,link:c0.vk.link},fb:{isEnabled:c0.fb.is_enabled,link:c0.fb.link},telegram:{isEnabled:c0.telegram.is_enabled,link:c0.telegram.link}};if(Number(bR.get(aU))!==Number(c0.is_enabled)){bR.set(aU,Number(c0.is_enabled))}if(Number(bR.get(bE))!==Number(c0.vk.is_enabled)){bR.set(bE,Number(c0.vk.is_enabled))}if(bR.get(cl)!==c0.vk.link){bR.set(cl,c0.vk.link)}if(Number(bR.get(I))!==Number(c0.fb.is_enabled)){bR.set(I,Number(c0.fb.is_enabled))}if(bR.get(cF)!==c0.fb.link){bR.set(cF,c0.fb.link)}if(Number(bR.get(b9))!==c0.telegram.is_enabled){bR.set(b9,Number(c0.telegram.is_enabled))}if(bR.get(a8)!==c0.telegram.link){bR.set(a8,c0.telegram.link)}};var bV=function(c0){roistat.onlineChat.isEnabled=c0.is_enabled;if(Number(bR.get(cj))!==Number(c0.is_enabled)){bR.set(cj,Number(c0.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=c0.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=c0.advanced_settings.pages_filter;bR.setObject(w,c0.advanced_settings)};var cU=function(c2,c4,c1,c3,c0,c5){aV(c2);roistat.callTracking.enabled=c4.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=c1.email;roistat.emailtracking.trackingEmail=c1.trackingEmail;roistat.emailtracking.emails=c1.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=c3;cr(c0);bV(c5)};bU.roistatModuleSetVisitCookie=function(c5,dc,c3,c1,db,c0,dd,c7){s("Call: roistatModuleSetVisitCookie("+c5+")");var c8;if(typeof c3.cookieExpire!=="number"){c8=bi().expires}else{c8=c3.cookieExpire}var c6=i(bM);var da={expires:c8,path:"/"};if(cq.domain){da.domain=cq.domain}cO(bM,c5,da);if(!(i(bM)>0)){bR.save(bM,c5,da)}if(!bR.get(aH)){var c2={expires:10*365*24*60*60,path:"/"};if(cq.domain){c2.domain=cq.domain}bR.save(aH,c5,c2)}var c9=c3.abTests;if((typeof c9!=="undefined")&&bR.isAvailable()){bR.setObject("abTesting",c9)}applyTests();var c4=c3.isNeedToListenRequests;if((typeof c4!=="undefined")&&bR.isAvailable()){bR.set(ad,c4)}ak(c5);if(dc){ag(dc);cO(aX,dc,da)}s("Call: pre renderPromoCode");aR();cu();if(bw(c6,c5)){s("roistatModuleSetVisitCookie: visit changed from "+c6+" to "+c5)}if(bU.roistatCallback!==bm){bU.roistatCallback(c5,dc)}if(!dd){dd={}}cU(c3,c1,db,c0,dd.multiwidget_settings,c7);roistat.callTracking.phone=c1.phone;roistat.callTracking.sessionTime=c1.sessionTime;roistat.callTracking.replacementClasses=c1.replacementClasses;roistat.callTracking.phoneScriptsJson=c1.scripts;roistat.visit=c5;cG();cL();ck()};bU.roistatUpdateSettings=function(c0){s("Set settings.");bO.isSettingsUpdating=false;cU(c0.js_settings,c0.calltracking,c0.emailtracking,c0.proxy_forms,c0.multiwidget.multiwidget_settings,c0.online_chat);cL();ck()};var ae=function(){var c0;if(bU.roistatIsInitVisit===true){c0=false}else{c0=i(bM)>0}ce("Call: alreadyVisited (return "+(c0?"true":"false")+")");return c0};var c=function(c0){return encodeURIComponent?encodeURIComponent(c0):encodeURI(c0)};var aN=function(){return j?c(j):""};var G=function(){return aT()+"//"+t+"/api/site/"+Y+"/"+aO()};var b3=function(){var c0={expires:1,path:"/"};if(cq.domain){c0.domain=cq.domain}cO(bh,"",c0)};var bo=function(){s("Call: setVisitIdCookie");var c1=function(){var c9=aO(),c6=aN(),c3=bU.roistatIsInitVisit===true?m():0,c8=i(bh),c4=bR.get(aH);c8=c8?c8:"";c4=c4?c4:"";bg=bg&&(!ax()||b2)?aq(aq(bg)):"";var c7=encodeURIComponent(b6);s("Calltracking: enabled="+bD.callTrackingEnabled+",manual="+bD.callTrackingManual);var c5=JSON.stringify(bU.roistat.page.params);return G()+"/addVisit?v="+N+"&marker="+encodeURIComponent(bg)+"&visit="+c3+"&first_visit="+c4+"&phone_prefix="+cf+"&phone_prefix_bind="+cW+"&phone_scripts_bind="+J+"&referrer="+c6+"&page="+c7+"&ab="+c(c8)+"&"+g()+"="+ah()+(c5==="{}"?"":"&page_params="+encodeURIComponent(c5))+((!bD.callTrackingEnabled||bD.callTrackingManual)?"&call_tracking_disabled=1":"")+(M.length>0?"&log="+encodeURIComponent(JSON.stringify(M)):"")};var c0=function(c3){setTimeout(function(){s("Call: setVisitIdCookie script creation after timeout");
var c4=A.createElement("script");c4.onload=c4.onreadystatechange=function(){var c6=this.readyState?this.readyState:"unknown";s("Call: setVisitIdCookie script state changed to "+c6)};c4.src=c3;c4.type="text/javascript";c4.async=true;c4.id=P;var c5=A.getElementsByTagName("script")[0];c5.parentNode.insertBefore(c4,c5);s("Call: setVisitIdCookie appended "+((A.getElementById(P))?"true":"false"));s("Call: sendJSONPRequest to URL "+c3);b3()},bD.jsonpRequestTimeout)};if(bg){ag(bg);if(o){cJ()}}ao();var c2=c1();c0(c2);j?S():bI()};var bu=function(){s("Call: sendAbTests");var c1=function(){var c5=aO(),c4=i(bM);return aT()+"//"+t+"/site-api/"+av+"/"+c5+"/visit/"+c4+"/addAbVariant"};var c2=i(bh);if(!c2){return}var c3=c1();c3=c3+"?ab="+c(c2);var c0=A.createElement("img");c0.src=c3;b3()};var aD={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(aD.Android()||aD.BlackBerry()||aD.iOS()||aD.Opera()||aD.Windows())}};var aM={isIE:function(c2,c4){var c5="IE",c1=A.createElement("B"),c0=A.documentElement,c3;if(c2){c5+=" "+c2;if(c4){c5=c4+" "+c5}}c1.innerHTML="<!--[if "+c5+']><b id="iecctest"></b><![endif]-->';c0.appendChild(c1);c3=!!A.getElementById("iecctest");c0.removeChild(c1);return c3}};var bW=function(){return new Date().getTime()};var cH=function(){return bR.get(R)};var V=function(){var c0="";bU.onerror=function(c6,c5,c2,c4,c3){var c1=!c4?"":", column: "+c4;c1+=!c3?"":", error: "+c3;c0=c0+", Error: "+c6+", url: "+c5+", line: "+c2+c1};setTimeout(function(){var c8=false,c9="";var c4=cM();for(var c7=0;c7<c4.length;c7++){var c3=c4[c7];if(c3!==null&&!c3.innerHTML){c8=true;c9="Promo HTML: "+c3.innerHTML}}if(!(i(bM)>0)){c8=true;c9=c9+"; roistat_visit = "+i(bM)}if(c8){var c2=A.getElementById(P);var c1=c2?1:0;var c5=bU.navigator.userAgent;c9=encodeURIComponent(c9);var c6=A.createElement("img");c6.src=aT()+"//"+t+"/site-api/"+av+"/"+aO()+"/debug?message="+c9+"&agent="+c5+"&"+g()+"="+ah()+"&jserror="+c0+"&scriptResponse="+c1+"&version="+N+"&debug="+aZ}},20000)};var bk=function(){var c2=A.getElementsByTagName("body");var c3=A.documentElement;var c1=0,c4=0;if(c2.length){var c0=c2[0];c1=bU.innerWidth||c3.clientWidth||c0.clientWidth;c4=bU.innerHeight||c3.clientHeight||c0.clientHeight}else{c1=bU.innerWidth||c3.clientWidth;c4=bU.innerHeight||c3.clientHeight}return{width:c1,height:c4}};var aR=function(){var c5=A.getElementsByClassName("roistat-promo-wrap");if(c5.length){s("PromoCode: old promo code length - exit");return}if(bU.roistatOnlineChatOnly){s("PromoCode: Shut down because only online chat need to be inited");return}var c3=function(){var dc=A.createElement("div");dc.innerHTML=roistatPromoCode;var da=A.getElementsByTagName("body");if(da.length){da[0].appendChild(dc)}s("PromoCode: appended to body "+roistatPromoCode.length);var db=A.getElementsByClassName("roistat-promo-wrap")[0];if(!db){s("PromoCode: roistat-promo-wrap not found, skip");return}var c9=db.style;var c7,c8,c6;setInterval(function(){c7=bk();c8=db.offsetWidth;c6=db.offsetHeight*2;switch(roistatPosition){case"top_left":c9.left=0;c9.top=0;break;case"top":c9.left=((c7.width-c8)/2)+"px";c9.top=0;break;case"top_right":c9.right=0;c9.top=0;break;case"left":c9.left=0;c9.top=((c7.height-c6)/2)+"px";break;case"right":c9.right=0;c9.top=((c7.height-c6)/2)+"px";break;case"bottom_left":c9.left=0;c9.bottom=0;break;case"bottom":c9.left=((c7.width-c8)/2)+"px";c9.bottom=0;break;case"bottom_right":c9.right=0;c9.bottom=0;break;default:c9.left=0;c9.top=0}},500)};var c0=bR.getObject("promo_code_options");if(c0){bU.roistatPromoCode=c0.template;bU.roistatPosition=c0.position;c3()}else{var c4=A.getElementsByTagName("head")[0]||A.documentElement;var c2=A.createElement("script");c2.src=aT()+"//"+t+"/site-api/"+av+"/"+aO()+"/getPromoCode";c4.insertBefore(c2,c4.firstChild);s("PromoCode: loading started");var c1=false;c2.onload=c2.onreadystatechange=function(){if(!c1&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){c1=true;c2.onload=c2.onreadystatechange=null;if(c4&&c2.parentNode){c4.removeChild(c2)}}if(!c1){return}s("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){s("PromoCode: is disabled");return}c0={template:roistatPromoCode,position:roistatPosition};bR.setObject("promo_code_options",c0);c3()}}};var aj=function(c1,c2){for(var c0=0;c0<c1.length;c0++){if(c1[c0]===c2){return true}}return false};var s=function(c1){var c2=bW()-a6;var c0="["+(c2/1000)+"s] "+c1;aZ=aZ+"; "+c0;if(typeof console!=="undefined"&&console.log&&ba){console.log(c0)}};var ce=function(c0){s(c0);if(!b4){return}M.push(c0)};var aw=function aw(){var c4=bU.onpopstate;var c5=bU.history.pushState;var c0=bU.history.replaceState;X(bU,"popstate",function c3(c6){s("[Roistat]: popstate event catch");
bK();if(U()&&typeof c4==="function"){c4(c6)}});X(bU.history,"pushState",function c2(c7,c8,c6){s("[Roistat]: pushState event catch");bK();if(U()&&typeof c5==="function"){c5.apply(this,[c7,c8,c6])}});X(bU.history,"replaceState",function c1(c7,c8,c6){s("[Roistat]: replaceState event catch");bK();if(U()&&typeof c0==="function"){c0.apply(this,[c7,c8,c6])}})};(function bs(){aw();if(bU.onRoistatModuleLoaded!==bm&&typeof bU.onRoistatModuleLoaded==="function"){bU.onRoistatModuleLoaded()}})();var bp=function(c1){var c6=function(dd,db){var da;if(cC(db,"*")){var dc=new RegExp(db.split("*").join(".*"));da=dc.test(dd)}else{da=dd===db}s("LeadHunter: compare current: "+dd+", setting: "+db+" with result = "+(da?1:0));return da};var c0=bU.location.href,c3=false,c2=false,c8="",c4=0,c7;c7=c1?c1.split(","):[];if(!c0||c7.length===0){c3=true}else{c8=ay(c0);var c9;for(var c5=0;c5<c7.length;c5++){c9=c7[c5].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(c9)){if(c6(c8,c9.split(/^!/).join(""))){c2=true;break}}else{c4++;if(c6(c8,c9)){c3=true;break}}}}if(c2){s('LeadHunter: current page "'+c8+'" is disabled by list');return false}if(!c3&&c4>0){s('LeadHunter: current page "'+c8+'" is not listed');return false}s('LeadHunter: current page "'+c0+'", cleaned: "'+c8+'" is not disabled in '+c7.length+" list of pages");return true};cT();(function aQ(){var dn="empty",c6=false,c1=true,dg=false;var dk={roistat_visit:i(bM),marker:bg,user_agent:bU.navigator.userAgent,current_page:{title:A.title,href:bU.location.protocol+"//"+bU.location.host+bU.location.pathname,},};var dp=function(dt,ds,dr){if(dt.addEventListener){dt.addEventListener(ds,dr,false)}else{if(dt.attachEvent){dt.attachEvent("on"+ds,dr)}else{s("Handler could not be attached")}}};var di=function(dt,dr){if(dt===bm||typeof dr!=="string"||dr.length===0){return}var ds=dt.getElementsByClassName(dr);if(ds===bm||ds.length===0){return}return ds[0]};var dq=function(dr){return typeof dr==="object"&&dr!==null};var c7=function(dr,dt,ds){if(dq(dr)){if(ds){dr.classList.add(dt);return}dr.classList.remove(dt)}};var dl={leadHunter:function(){var fd="roistat-lh-form",dP="roistat-lh-form",fg="roistat-lh-head-text",d3="roistat-lh-head",dL="roistat-lh-thank-you",eu="roistat-lh-thank-you",dw="roistat-lh-close",dx="roistat-lh-submit",ec="roistat-lh-hidden",eS="roistat-lh-wrap",dR="roistat-lh-popup-wrapper",et="roistat-lh-popup",ff="roistat-lh-agreement",ep="roistat-lh-agreement roistat-lh-mobile",fu="roistat-lh-agreement-input",e4="roistat-lh-agreement-link",dr="roistat-lh-agreement-doc",e9="roistat-lh-alert-row",eB="roistat-lh-agreement",eo="roistat-lh-popup-iframe",eD="roistat_leadHunterUrl",e6="roistat_leadHunterAppearanceUrl",eg="roistat_leadHunterTargetPagesList",dK="roistat_leadHunterCaught",eK="roistat_leadHunterMinTime",d7="roistat_leadHunterAutoShowTime",eH="roistat_leadHunterPulsatorEnabled",d1="roistat_leadHunterScriptsCaught",fv="roistat_leadHunterScriptsShownCount",em="roistat-lh-load-done",dQ="roistat-lh-close-modal",eU="roistat-lh-script-settings",eT="roistat-lh-setting-size",fa="roistat-lh-before-submit",eE="roistat-lh-before-submit-done",fi="roistat-lh-after-submit",eX="roistat-lh-event-data",eY="roistat-lh-translate-form",fs={topLeft:{bottom:"80%",right:"auto"},topRight:{bottom:"80%",right:"3%"},bottomRight:{bottom:"10%",right:"3%"},bottomLeft:{bottom:"10%",right:"auto"}};var dJ=0.3,dV=0.001,dM=false,dY=0,dT=0,dZ=0,fk=0,dX=0,ed=false,dB=false,dW,e8,ew,eC,eR,d2,ft,fo,e5,fr,dF,fl,eO,ex,en,dI,du,eb,d0,d8,e2,fb,d5,fe,fj,ef;var fn={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var fh=function(fz){var fy=encodeURIComponent?encodeURIComponent:encodeURI;return fy(fz)};var eW=function(){if(!bU.roistat.leadHunter.isEnabled){return false}if(bU.roistatLeadHunterInited){return false}bU.roistatLeadHunterInited=true;if(bR.get(bn)<1){s("LeadHunter: disabled");return false}return true};var ea=function(){du=bR.get(eD);if(!du){s("LeadHunter: not active cause of empty url");return false}eb=bR.get(e6);fk=bR.get(eK);dX=bU.roistat.leadHunter.form.autoShowTime===null?bR.get(d7):bU.roistat.leadHunter.form.autoShowTime;c6=bR.get(eH)==1;dt();return true};var ei=function(){return bR.get(dK)>0};var dt=function(){if(!(i(T)>0)){s("LeadHunter: not active, expired for this visit");ed=true}};var dC=function(fy){d8=e2.src;var fz={version:N,additionalNotifyEmail:bU.roistat.leadHunter.additionalNotifyEmail,projectKey:aO(),language:W,visitId:ca(),moduleTargetOrigin:bU.location.origin,referrer:bU.location.href,windowWidth:bU.innerWidth||0,iframeWrapperWidth:eC.offsetWidth||0,sendRequestUrl:bR.get(eD),message:em};e2.contentWindow.postMessage(fz,d8);eJ();if(fy){s("Beta Test on, iframe fired, rise up iframe show count state");dv()}};var el=function(){dB=true;dA("click");dC();eQ()};var dz=function(){var fy=bU.location.hash;if(!fy){return}if(cC(fy,"roistat-lead-hunter")){el()}};var ej=function dH(){s("LeadHunter: binding timeout");if(ed){s("LeadHunter: leadhunter is expired, no timeout show allowed");
return}if(dM){s("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(dX>0){var fy=(dY-bW())+dX*1000;s("LeadHunter: binding timeout with delay "+fy+" ms");clearTimeout(fn.timeoutId);fn.timeoutId=setTimeout(function(){s("LeadHunter: form auto activate with autoTime = "+dX);if(!dM){s("LeadHunter: show by timeout");dB=true;dA("auto");dC(true);eQ()}},fy)}else{s("LeadHunter: auto show time is not positive, feature disabled")}};var e7=function(){e5.onclick=eR.onclick=ez;fr.onclick=ee;if(dq(fl)){dp(fl,"click",eq)}if(dq(eO)){dp(eO,"change",fw)}var fz=A.getElementsByClassName("roistat-lh-input");if(Array.isArray(fz)){for(var fC=0;fC<fz.length;fC++){dp(fz[fC],"keyup",function(fE){fE=fE||event;var fD=(fE.keyCode?fE.keyCode:fE.which);if(fD==13){ee()}})}}var fA=bU.onresize;bU.onresize=function(fD){if(fA){fA(fD)}fc(fD)};if(!ed){var fy=A.onmouseout;A.onmouseout=function(fD){if(fy){fy(fD)}eN(fD)}}if(c6&&!df()&&dq(dW)){dW.onmouseover=function(){ab(dW,"roistat-lh-pulsator-hover")};dW.onmouseout=function(){bL(dW,"roistat-lh-pulsator-hover")};dW.onclick=function(){el()}}var fB=bU.onhashchange;bU.onhashchange=function(){if(fB){fB.apply(this,arguments)}dz()}};var fq=function(){if(c6&&!df()&&dq(dW)){dW.onmouseover=function(){ab(dW,"roistat-lh-pulsator-hover")};dW.onmouseout=function(){bL(dW,"roistat-lh-pulsator-hover")};dW.onclick=function(){el()}}eR.onclick=ez;e2=A.getElementById(eo);if(dq(e2)){dp(e2,"load",function(){dC();fm()})}var fz=bU.onresize;bU.onresize=function(fB){if(fz){fz(fB)}fc(fB)};if(!ed){var fy=A.onmouseout;A.onmouseout=function(fB){if(fy){fy(fB)}if(!U()){s("ShowLimit: Beta Test off, check cursor usually");eN(fB)}else{s("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!eP()&&!dU()){s("ShowLimit: Check cursor allowed");eN(fB,true)}}}}var fA=bU.onhashchange;bU.onhashchange=function(){if(fA){fA.apply(this,arguments)}dz()}};var ey=function(fz){var fy=A.getElementsByClassName(fz);if(fy.length>0){return fy[0]}else{return null}};var ev=function(){var fB=ey("roistat-lh-title");if(dq(fB)&&roistat.leadHunter.form.title){fB.innerHTML=roistat.leadHunter.form.title}var fz=ey("roistat-lh-sub-title");if(dq(fz)&&roistat.leadHunter.form.subTitle){fz.innerHTML=roistat.leadHunter.form.subTitle}var fA=ey("roistat-lh-thank-you");if(dq(fA)&&roistat.leadHunter.form.thankYouText){fA.innerHTML=roistat.leadHunter.form.thankYouText}var fD=ey("roistat-lh-submit");if(dq(fD)&&roistat.leadHunter.form.buttonText){fD.value=roistat.leadHunter.form.buttonText}var fC=ey("roistat-lh-text-label-name");if(dq(fC)&&roistat.leadHunter.form.nameLabel){fC.innerHTML=roistat.leadHunter.form.nameLabel}var fy=ey("roistat-lh-text-label-contact");if(dq(fy)&&roistat.leadHunter.form.contactLabel){fy.innerHTML=roistat.leadHunter.form.contactLabel}};var dS=function(fz,fD,fC){var fy;if(!fz){s("LeadHunter: deactivating, empty form")}else{s("LeadHunter: rendering hidden form")}eR=A.createElement("div");eC=A.createElement("div");eC.innerHTML=fz;eR.className=ec;eC.className=ec;if(fD&&c6&&fC&&!df()){var fA=typeof fC.position==="string"&&fC.position!==""?fC.position:"bottomRight";fy=A.createElement("div");fy.innerHTML=fD;dW=fy.childNodes.item(0);e8=dW.childNodes.item(1);ew=dW.childNodes.item(2).childNodes.item(0);e8.setAttribute("style","background: "+fC.button.background+";");ew.setAttribute("style","fill: "+fC.button.color+";");dW.setAttribute("style","bottom: "+fs[fA].bottom+";right:"+fs[fA].right+";");fn.pulsator.previousClass=dW.className;dW.className=ec;A.body.appendChild(dW)}A.body.appendChild(eR);A.body.appendChild(eC);d2=A.getElementById(d3);ft=A.getElementById(dP);fo=A.getElementById(eu);e5=A.getElementById(dw);fr=A.getElementById(dx);dF=A.getElementById(ff);eO=A.getElementById(fu);fl=A.getElementById(e4);ex=A.getElementById(dr);en=A.getElementById(e9);dI=A.getElementById(eB);var fB=ey(dR);d0=dq(fB)&&fB.getAttribute("data-is-iframe");if(d0){fq()}else{ev();e7();dz();fm()}};var fp=function(fA){var fz=fA.button&&fA.button.background&&fA.button.color;if(!fz){return}bR.setObject(bB,ef);var fy=typeof fA.position==="string"&&fA.position!==""?fA.position:"bottomRight";if(dq(e8)){e8.setAttribute("style","background: "+fA.button.background+";")}if(dq(ew)){ew.setAttribute("style","fill: "+fA.button.color+";")}if(dq(dW)){dW.setAttribute("style","bottom: "+fs[fy].bottom+";right:"+fs[fy].right+";")}};var dG=function(){var fy=bR.get(bC),fA=bR.get(bd),fz=bR.getObject(bB);dS(bY.decode(fy),bY.decode(fA),fz)};var eh=function(){var fz=eC.clientWidth,fy=eC.clientHeight;if(dq(eC)){eC.setAttribute("style",eC.getAttribute("style")+" width: "+fz+"px; height: "+fy+"px;")}if(dq(ft)){ft.className=ec}if(dq(d2)){d2.className=ec}if(dq(dF)){dF.className=ec}if(dq(fo)){fo.setAttribute("style","width: "+fz+"px; height: "+fy+"px; display: table-cell;");fo.className=dL}setTimeout(function(){s("LeadHunter: close form after timeout");ez()},7000)};var eQ=function(){var fz=Math.round((e3()-eC.clientHeight)/2);var fy=Math.round((fx()-eC.clientWidth)/2);if(dq(eC)){eC.setAttribute("style","left: "+fy+"px; top: "+Math.max(0,fz)+"px;")
}};var dA=function(fz){if(bU.roistat.leadHunter.onBeforeAppear){s("LeadHunter: process user defined onBeforeAppear");bU.roistat.leadHunter.onBeforeAppear(fz);if(d0){eJ()}}if(dq(eC)){eC.setAttribute("style","left:20px;top:-20px;opacity:0");eC.className=et}if(dq(eR)){eR.className=eS}if(dq(ft)){ft.className=fd}if(dq(d2)){d2.className=fg}if(dq(dF)){dF.className=ep}if(dq(fo)){fo.setAttribute("style","");fo.className=ec}if(dq(eR)){eR.setAttribute("style","opacity:0;")}dM=true;setTimeout(function(){eR.setAttribute("style","opacity:.5;")},10);var fA=i(bM),fy=eb+"?visit_id="+fA;K(fy);if(bU.roistat.leadHunter.onAfterAppear){s("LeadHunter: process user defined onAfterAppear");bU.roistat.leadHunter.onAfterAppear(fA,eR,eC,ft);if(d0){eJ()}}};var eV=function eA(){dY=bW();dG();s("LeadHunter: form initialized")};var fm=function ek(){s("LeadHunter: tuning appearance for page");if(!bp(bR.get(eg))||(bR.get(aF)&&!bR.get(O))){s("LeadHunter: disabled on page");fn.leave.isShowEnabled=false;clearTimeout(fn.timeoutId);if(df()){c1=false;db()}if(dq(dW)){dW.className=ec}}else{s("LeadHunter: enabled on page");if(!ei()&&!U()){s("ShowLimit: Beta Test off, bindShowOnTimeout usually");fn.leave.isShowEnabled=true;ej()}if(U()){s("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!eP()&&!dU()){s("ShowLimit: bindShowOnTimeout allowed");fn.leave.isShowEnabled=true;ej()}}if(dq(dW)){dW.className=fn.pulsator.previousClass}}};var d4=function eM(){s("LeadHunter: processing single page application state change");dY=bW();fm()};var e1=function er(){al(d4);X(bU,"resize",function(){var fz=600,fB=350,fC=bU.innerWidth,fA={};if(fC<fz&&fC>fB){fA={isMobileMarkup:true,isMobileMarkupXs:false};e2.contentWindow.postMessage({sizeSettings:fA,message:eT},d8);return}if(fC<fB){fA={isMobileMarkup:false,isMobileMarkupXs:true};e2.contentWindow.postMessage({sizeSettings:fA,message:eT},d8);return}fA={isMobileMarkup:false,isMobileMarkupXs:false};e2.contentWindow.postMessage({sizeSettings:fA,message:eT},d8)});X(bU,"message",function fy(fE){var fD=typeof fE.data==="string"?fE.data:fE.data.message;if(fD===eU){fb=fE.data.scriptId;d5=fE.data.showsLimit;var fB=bR.getObject(n)!==null;if(fB){fe=fE.data.leadHunterAutoShowTime;fj=fE.data.leadHunterMinTime;fj=fE.data.leadHunterMinTime;ef=fE.data.leadHunterPulsatorSettings;bR.set(eK,fj);bR.set(d7,fe);if(ef){bR.set(eH,Number(ef.isEnabled));fp(ef)}}s("ShowLimit: Get lhScriptId: "+fE.data.leadHunterId+" and lhScriptMaxShownCount: "+fE.data.leadHunterMaxShownCount+" from lh widget");eG()}if(fD===dQ){ez()}if(fD===eT){e2.setAttribute("style","width: "+fE.data.width+"px !important; height: "+fE.data.height+"px !important;");fc(fE)}if(fD===fa){var fF=fE.data.caughtLeadData;if(bU.roistat.leadHunter.onBeforeSubmit){s("LeadHunter: process user defined onBeforeSubmit");var fA=bU.roistat.leadHunter.onBeforeSubmit(fF);if(fA){fF=fA}}if(!U()){s("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");dD()}else{s("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");eI()}var fz=bR.getObject(b7);var fC=fz!==null;var fG=fC&&fF.isNeedCallback===null&&!E(fz);if(fG){fF.isNeedCallback=0}e2.contentWindow.postMessage({caughtLead:fF,message:eE},d8)}if(fD===fi){if(bU.roistat.leadHunter.onAfterSubmit){s("LeadHunter: process user defined onAfterSubmit");bU.roistat.leadHunter.onAfterSubmit({name:fE.data.name,phone:fE.data.phone})}}})};function eJ(){var fy={apiData:bU.roistat.leadHunter.form,message:eX};e2.contentWindow.postMessage(fy,d8)}function eG(){if(!eW()){return}var fy=bR.getObject(n)!==null;if(fy){dE()}if(!ea()){return}s("LeadHunter: activated");eV();fm();e1()}function e3(){return(bU.innerHeight?bU.innerHeight:A.documentElement.clientHeight==0?A.body.clientHeight:A.documentElement.clientHeight)}function fx(){return(bU.innerWidth?bU.innerWidth:A.documentElement.clientWidth==0?A.body.clientWidth:A.documentElement.clientWidth)}function eN(fB,fy){fB=fB||event;dZ=fB.clientY;var fz=dZ/e3(),fD=dT>0&&dT>fz,fA=fz<dV,fC=(bW()-dY)>fk*1000;if(fD&&fA&&!dM&&fC&&fn.leave.isShowEnabled&&!ei()){s("LeadHunter: show modal with because move up ("+dT+" -> "+fz+") and in modal zone and show on leave enabled");dA("exit");dC(fy);es(fB)}if(fz<dJ){dT=fz}}function fc(fy){if(dB){eQ()}else{fy=fy||event;es(fy)}}function es(fD){var fz=fD.type==="message"?fD.data.width:eC.offsetWidth;var fA=fx();var fy=fD.clientX-Math.round(fz/2)||eC.offsetLeft;fy=Math.max(20,Math.min(fy,fA-fz-20));var fE=fy+fz>fA-40;if(fE){var fB=(fy+fz-20)-(fA-40);fy=fy-fB}var fC=fA-40>fz?"":"width: "+(fz-40)+"px;";if(dq(eC)){eC.setAttribute("style","left: "+fy+"px; top: 0px; "+fC)}}function dD(){bU.roistatSetCookie(dK,1,cq)}function ez(){if(!U()){s("ShowLimit: Beta Test off, setCookieLeadHunterCaught");dD()}if(dq(eR)){eR.setAttribute("style","opacity:0")}if(dq(eC)){eC.style.top="-"+eC.offsetHeight*2+"px";setTimeout(function(){eC.className=eR.className=ec},500)}}function ee(){var fM=A.getElementById("roistat-lh-phone-input"),fA=A.getElementById("roistat-lh-name-input"),fC,fK;
fC=fM===null?"":fM.value;fK=fA===null?"":fA.value;var fH={name:fK,phone:fC,isNeedCallback:null,callbackPhone:null,fields:{}};if(bU.roistat.leadHunter.onBeforeSubmit){s("LeadHunter: process user defined onBeforeSubmit");var fD=bU.roistat.leadHunter.onBeforeSubmit(fH);if(fD){fH=fD}}var fJ=fH.phone.length<1;var fL=fH.phone.indexOf("_")===-1;var fF=!fJ&&fL;var fI=fH.name.length<1;var fz=!fI||!bU.roistat.leadHunter.form.isNameRequired;if(!fF&&dq(fM)){fM.setAttribute("style","border: 2px solid #E0571A;");return}if(!fz&&dq(fA)){fA.setAttribute("style","border: 2px solid #E0571A;");return}var fy=du+"?v="+N+"&lead-hunt-input="+encodeURIComponent(fH.phone)+"&lead-name="+encodeURIComponent(fH.name)+"&visit="+ca();if(fH.isNeedCallback!==null&&fH.isNeedCallback!==bm){fy=fy+"&is_need_callback="+(fH.isNeedCallback>0?1:0)}if(fH.callbackPhone){fy=fy+"&callback_phone="+fH.callbackPhone}if(bU.roistat.leadHunter.additionalNotifyEmail!==null){fy=fy+"&additional_email="+encodeURIComponent(bU.roistat.leadHunter.additionalNotifyEmail)}var fB=0;if(fH.fields&&typeof fH.fields==="object"){for(var fE in fH.fields){if(fH.fields.hasOwnProperty(fE)){++fB}}}if(fB>0){fy=fy+"&fields="+fh(JSON.stringify(fH.fields))}fy=fy+"&t="+bW();var fG=A.createElement("img");fG.src=fy;if(dq(fM)){fM.setAttribute("style","")}if(!U()){s("ShowLimit: Beta Test off, caught LH usually");dD()}else{s("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");eI()}if(!dq(fo)){ez();d9()}else{eh()}if(bU.roistat.leadHunter.onAfterSubmit){s("LeadHunter: process user defined onAfterSubmit");bU.roistat.leadHunter.onAfterSubmit({name:fK,phone:fC})}}function eq(fy){if(fy.preventDefault){fy.preventDefault()}else{fy.returnValue=false}if(dq(ex)){ex.style.display==="block"?ex.style.display="none":ex.setAttribute("style","display: block; padding: 0 30px; width:"+eC.clientWidth+"px;")}fc()}function fw(){if(dq(fr)){fr.disabled===true?fr.disabled=false:fr.disabled=true}if(dq(en)){en.style.display==="block"?en.style.display="none":en.style.display="block"}}function d9(){A.onmousemove=null;if(dq(eR)){eR.onresize=null}}var d6=function(fE,fH){if(!fE||!fH){s("LeadHunter: skip phone mask render due to empty input or mask");return}s("LeadHunter: render phone mask "+fH+" for input: "+fE.value);if(bU.roistatRenderPhoneMaskMutex){return}bU.roistatRenderPhoneMaskMutex=true;var fB="_",fA="x",fD="",fC=fH.toLowerCase().split(fA).join(fB).split(fD).join(fB);var fz=function(fI){if(fE.setSelectionRange){fE.setSelectionRange(fI,fI)}else{if(fE.createTextRange){var fJ=fE.createTextRange();fJ.collapse(true);fJ.moveEnd("character",fI);fJ.moveStart("character",fI);fJ.select()}}};var fF=function(fI){if(!fI){return 0}var fJ=fI.indexOf(fB);if(fJ<0){return fI.length}return fJ};var fG=function(fI){fz(fF(fI))};var fy=function(fR){var fS=fC.split("");if(!fR){return fC}var fI=fR.split("");var fT=[],fQ,fN,fP,fM,fK,fJ,fO;for(var fL=0;fL<fS.length;fL++){fN=fS[fL];if(fL>=fI.length){fT.push(fN);continue}fK=((fL+1)<fS.length)?fS[fL+1]:null;fJ=((fL+1)<fI.length)?fI[fL+1]:null;fO=((fL+2)<fI.length)?fI[fL+2]:null;fQ=fI[fL];fP=parseInt(fQ)>=0;fM=(fN===fB)&&fP;if(!fM){fT.push(fN);continue}if(fJ===fB&&fK!==fB&&fO!==fK){fT.push(fN);continue}fT.push(fQ)}return fT.join("")};setTimeout(function(){var fI=fy(fE.value);if(fE.value!==fI){fE.value=fI}fG(fI);bU.roistatRenderPhoneMaskMutex=false},1)};var e0=function(fy,fA,fz){bR.set(bC,bY.encode(fy));bR.set(bd,bY.encode(fA));bR.setObject(bB,fz)};var eF=function(fy){W=fy;if(e2===bm){return}ds()};var ds=function(){var fy={language:W,message:eY};e2.contentWindow.postMessage(fy,d8)};var eI=function(){s("ShowLimit: Start set roistat_leadHunterScriptsCaught");var fy=dN(d1);if(!fy){fy={}}s("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");fy[fb]=1;eZ(d1,fy)};var dv=function(){s("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var fz=dN(fv);if(!fz){fz={}}var fA=fz.hasOwnProperty(fb);if(!fA){s("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");fz[fb]=0}var fy=fz[fb]+1>d5;if(fy){s("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}s("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");fz[fb]+=1;eZ(fv,fz)};var eZ=function(fy,fz){cO(fy,JSON.stringify(fz),cq)};var dN=function(fy){var fz=i(fy);if(typeof fz!=="undefined"){return JSON.parse(fz)}return fz};var dU=function(){if(d5===0){s("ShowLimit: show limit off and set to 0");return false}var fy=dN(fv),fz=fy?fy[fb]:null,fA=fz+1>d5;s("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+fA);return fA};var eP=function(){var fA=dN(d1),fy=fA?fA[fb]:null,fz=fy===1;s("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+fz);return fz};var dE=function(){bR.set(aF,dy());bR.set(bC,bY.encode(eL()));bR.set(eg,dO())};var eL=function(){var fy=aT()+"//"+t+"/api/site/1.0/"+aO()+"/leadhunter/script/"+bR.get(aF)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+fy+'" frameborder="0"></iframe></div>'
};var dy=function(){var fy=bR.getObject(n);if(fy===null){return}bR.set(O,"");var fC=Number(bR.get(bn));var fF=Object.keys(fy);var fD=fF.sort()[0];if(!fC){return fD}for(var fB=0;fB<fF.length;fB++){var fG=fy[fF[fB]];var fE=fG.targetPageList;var fA=bp(fE.join(","));var fz=fE.length===0;if(fz||fA){if(!fG.timetable.isEnabled||E(fG.timetable)){fD=fF[fB];bR.set(O,fD)}}}return fD};var dO=function(){var fy=bR.get(aF);var fz=JSON.parse(bR.get(n));return fz[fy]?fz[fy].targetPageList.join(","):""};b8(eG);bU.roistatLeadHunterShow=el;bU.roistatRenderPhoneMask=d6;bU.roistat.leadHunter.localization.translateToRussian=function(){eF(bz)};bU.roistat.leadHunter.localization.translateToEnglish=function(){eF(cS)}},multiwidget:function(){var d3="roistat-multiwidget-hidden",eb="roistat-multiwidget-pulsator-phone",d9="roistat-multiwidget-pulsator-popup-item-lead-hunter",dH="roistat-multiwidget-pulsator-fill",ed="roistat-multiwidget-pulsator-fill-svg",dU="roistat-multiwidget-pulsator-img-icon",dG="roistat-multiwidget-pulsator-popup-item-chat",du="roistat-multiwidget-pulsator-popup-item-facebook",dy="roistat-multiwidget-pulsator-popup-item-vk",dT="roistat-multiwidget-pulsator-popup-item-telegram",dY="roistat-multiwidget-pulsator-items-popup-holder",dS="iframe_chat_successfully_loaded",dA="roistat-multiwidget-pulsator-popup-tail";ONLINE_CHAT_CLASS="roistat-online-chat-popup-wrapper",IFRAME_HOLDER_HIDDEN_CLASS="roistat-online-chat-popup-wrapper-hidden";var dF,dX,dM,ea,dr,dw,ec,dQ,dC,dt,dD,dv;var dK=false;var d8={topLeft:{bottom:"unset",right:"unset",top:"20px",left:"35px"},topRight:{bottom:"unset",right:"35px",top:"20px",left:"unset"},bottomRight:{bottom:"20px",right:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:"20px",right:"unset",top:"unset",left:"35px"}};var dz={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var dL={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function d2(ef){s("Multiwidget: "+ef)}function dR(){dX=di(dF,eb);dM=di(dF,dY);ea=di(dF,dA);dQ=di(dM,d9);dC=di(dM,dG);dt=di(dM,dy);dD=di(dM,du);dv=di(dM,dT);dr=di(dX,dH);dw=dX.getElementsByClassName(ed);ec=di(dX,dU)}function dI(){if(dq(dM)){dM.classList.toggle(d3)}}function d7(ef){if(dq(ef)){ef.classList.toggle("opened")}}function ee(){d2("add pulsator events");dp(dX,"click",function(){if(!dO()){dI()}d7(dX)});dp(dQ,"click",function(){d2("opening leadhunter via multiwidget");bU.roistatLeadHunterShow();dI();c7(dX,"opened",false)});dp(dC,"click",function(){d2("opening online chat via multiwidget");bU.roistatOnlineChatShow();dI()});dp(dt,"click",function(){bU.open(bR.get(cl),"_blank")});dp(dD,"click",function(){bU.open(bR.get(cF),"_blank")});dp(dv,"click",function(){bU.open(bR.get(a8),"_blank")})}function dO(){var ef=di(A,ONLINE_CHAT_CLASS);return dq(ef)&&!ef.classList.contains(IFRAME_HOLDER_HIDDEN_CLASS)}function dP(){return dq(dY)&&!dY.classList.contains(d3)}function dx(ef){if(dq(ef)){ef.classList.add(d3)}}function d0(ef){if(dq(ef)){ef.classList.remove(d3)}}function dV(){dx(dQ)}function dN(){d2("hiding disabled multiwidget options");var ef=Number(bR.get(bn)),eg=Number(bR.get(cj)),eh=Number(bR.get(bE)),ei=Number(bR.get(I)),ej=Number(bR.get(b9));if(!ef||!c6||!c1){d2("hiding leadhunter option");dV()}if(!eg||!dK||!da()){d2("hiding online chat option");dx(dC)}if(!eh){d2("hiding vk-messenger option");dx(dt)}if(!ei){d2("hiding fb-messenger option");dx(dD)}if(!ej){d2("hiding telegram-messenger option");dx(dv)}}function ds(){var eg=bR.getObject(e);d2("start filling pulsator");if(eg){if(dq(dr)){dr.setAttribute("style","background: "+eg.button_color+";")}if(dq(ec)){ec.setAttribute("style","fill: "+eg.icon_color+";")}if(Array.isArray(dw)){for(var ef=0;ef<dw.length;ef++){dw[ef].setAttribute("style","fill: "+eg.button_color+";")}}}}function dZ(){var ef=bR.getObject(e);return typeof ef.position==="string"&&ef.position!==""?ef.position:"bottomRight"}function dW(){if(dq(dF)){var ef=dZ();dF.setAttribute("style","top: "+d8[ef].top+";right:"+d8[ef].right+";bottom:"+d8[ef].bottom+";left:"+d8[ef].left+";")}}function dJ(){if(dq(dX)){var ef=dZ();var eg=ef==="topLeft"||ef==="bottomLeft"?"margin-right":"margin-left";
dX.setAttribute("style",eg+": auto")}}function d1(){if(dq(dM)){var ef=dZ();dM.setAttribute("style","top: "+dz[ef].top+";right:"+dz[ef].right+";bottom:"+dz[ef].bottom+";left:"+dz[ef].left+";")}}function dB(){if(dq(ea)){var ef=dZ();ea.setAttribute("style","top: "+dL[ef].top+";right:"+dL[ef].right+";bottom:"+dL[ef].bottom+";left:"+dL[ef].left+";border-top-color:"+dL[ef]["border-top-color"]+";border-right-color:"+dL[ef]["border-right-color"]+";border-bottom-color:"+dL[ef]["border-bottom-color"]+";border-left-color:"+dL[ef]["border-left-color"]+";")}}function d5(){dW();dJ();d1();dB()}function dE(){var eg=bY.decode(bR.get(cz));if(eg){d2("appending multiwidget pulsator");var ef=A.createElement("div");ef.innerHTML=eg;dF=ef.childNodes.item(0);A.body.appendChild(dF);dR();dN();ds();d5();ee()}}function d4(){X(bU,"message",function ef(eh){var eg=typeof eh.data==="string"?eh.data:eh.data.message;if(eg===dS){dK=true;d0(dC)}})}function d6(){d4();d2("activated");dE()}db=dV;b8(d6)},onlineChat:function(){var el="iframe-module-created",dB="iframe_chat_successfully_loaded",dt="iframe-online-chat-opened",dy="iframe-online-chat-invite-message",en="roistat-online-chat-init",eJ="roistat-online-chat-reload",ew="roistat-online-chat-update-custom-params",dP="roistat-online-chat-lead_successfully_sent",er="roistat-online-chat-translate-form",dR="roistat-online-chat-set-iframe-height",dY="roistat-online-chat-send-lead",ez="roistat_chat_id",eI="roistat_chat_session",em="roistat_chat_custom_position",dJ,dC,eA,dD,ex,ef,dS,ee;var ea="roistat-online-chat-popup-iframe",dV="roistat-online-chat-hidden",eB="roistat-online-chat-holder",ev="roistat-online-chat-popup-wrapper",et="roistat-multiwidget-pulsator-phone",du="roistat-multiwidget-pulsator-popup-item-chat",ed="roistat-online-chat-popup-wrapper-hidden",dT="roistat-online-chat-popup-mouse-track",d9="roistat-online-chat-popup-mouse-track-active",dX="roistat-online-chat-pulsator-fill",ey="roistat-online-chat-pulsator-img",d3="roistat-online-chat-pulsator-phone",dN="roistat-online-chat-pulsator-fill-svg",dI=".roistat-multiwidget-pulsator-items-popup",dF=".roistat-online-chat-pulsator-phone",d7=".roistat-online-chat-popup-wrapper";var dU=false,dW=false,eh=0,dw=0;var eb=df()?".roistat-multiwidget-pulsator-holder":".roistat-online-chat-holder";var eE;var ec={topLeft:{top:"130px",right:"unset",bottom:"unset",left:"65px"},topRight:{top:"130px",right:"65px",bottom:"unset",left:"unset"},bottomRight:{top:"unset",right:"65px",bottom:"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:"130px",left:"65px"}};var eC={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var ek=function(eL){s("onlineChat: "+eL)};var dO=function(){function eL(){return Math.random().toString(36).substr(2,8)}return eL()+eL()+eL()+eL()};var dE=function(){var eL=bR.get(eI);if(!eL){eL=dO();bR.set(eI,eL)}return eL};var dv=function(){var eL={message:el,detail:{version:N,language:p,projectKey:aO(),visitId:ca(),chatId:i(ez),moduleTargetOrigin:bU.location.origin,referrer:bU.location.href,params:dk,sessionUniqueKey:dE()}};ex.contentWindow.postMessage(eL,ex.src)};var dK=function(){var eL={message:dt,detail:{isOpened:eD()}};ex.contentWindow.postMessage(eL,ex.src)};var dM=function(){var eL={message:ew,detail:{params:dk}};ex.contentWindow.postMessage(eL,ex.src)};var dr=function(){var eL={language:p,message:er};ex.contentWindow.postMessage(eL,ex.src)};var es=function(){X(bU,"message",function eL(eO){var eN=typeof eO.data==="string"?eO.data:eO.data.message;var eM=typeof eO.data!=="string"?eO.data.detail:{};ek("event: "+eN+" "+JSON.stringify(eM));switch(eN){case dB:eu();break;case el:dv();break;case en:ek("saving chat id = "+eM.chatId);cO(ez,eM.chatId,{path:"/"});break;case dy:ek("rendering invite message");eo(eM.message);break;case dR:ek("setting iframe height: "+eM.height);dH(eM.height);break;case dY:ek("sending lead");dL(eM.leadData)}})};var dZ=function(){var eM=bU.roistat.onlineChat.notificationsCustomHolderSelector;var eL=eM!==null;return A.querySelector(eL?eM:eb)};var dH=function(eL){var eM=A.getElementById(ea);eM.style.height=eL+"px"};var dL=function(eL){bU.roistatGoal.reach(eL,function(){ex.contentWindow.postMessage(dP,ex.src)})};var eo=function(eS){if(eD()){return}var eN="<div class='roistat-online-chat-message'><img src='"+eS.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+eS.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+eS.text+"</div></div><div class='roistat-online-chat-message-close'></div></div>";var eR=A.createElement("div");eR.innerHTML=eN;var eQ=dZ();if(dq(eQ)){var eT=eg()?"beforeend":"afterbegin";eQ.insertAdjacentHTML(eT,eN);
var eP=eQ.getElementsByClassName("roistat-online-chat-message-close");var eL=eQ.getElementsByClassName("roistat-online-chat-message");var eO=eP[eg()?eP.length-1:0];var eM=eL[eg()?eP.length-1:0]}setTimeout(function(){eM.remove()},15000);dp(eM,"click",function(eU){eU.stopPropagation();if(!eD()){eq()}eF()});dp(eO,"click",function(eU){eU.stopPropagation();eM.remove()})};var eF=function(){var eM=dZ();if(dq(eM)){var eL=eM.getElementsByClassName("roistat-online-chat-message");while(eL.length>0){eL[0].remove()}}};var eH=function(){ex=A.getElementById(ea);if(dq(ex)){dp(ex,"load",function(){d8()})}dp(A,"click",function(eQ){var eP=bU.roistat.onlineChat.customTriggerSelector;if(df()){var eR=di(A,et);var eO=di(A,du);var eN=eD()&&eQ.target!==eO&&!eO.contains(eQ.target);if(eN){c7(eR,"opened",false)}}else{var eL=di(A,eB);var eM=eD()&&eQ.target!==eL&&!eL.contains(eQ.target);if(eM){c7(eL,"opened",false)}}if(eD()&&(eQ.target.closest(dI)===null&&eQ.target.closest(d7)===null&&eQ.target.closest(dF)===null&&(eP?eQ.target.closest(eP)===null:true))){eq()}})};var ds=function(eN){var eM=eA.getBoundingClientRect().x;var eL=eA.getBoundingClientRect().y;dW=true;dx();eh=eN.pageX-eM;if(eg()){dw=eN.pageY+eL}else{dw=eN.pageY-eL}};var d2=function(){dW=false;ep();dQ()};var dx=function(){if(dq(dC)){dC.classList.add(d9)}};var ep=function(){if(dq(dC)){dC.classList.remove(d9)}};var ei=function(eT){if(dW&&dq(eA)){var eL=eA.getBoundingClientRect();var eS=eL.width;var eR=400;var eM=50;var eW=0;var eO=bU.innerHeight-eR;var eU=eT.pageX-eh;var eQ=eM;var eN=bU.innerWidth-eM-eS;if(eg()){eW=bU.innerHeight-(eT.pageY+eL.y)-20}else{eW=eT.pageY-dw}var eV=eG();var eP=eV==="bottomLeft"||eV==="bottomRight"?"top":"bottom";if(eU>=eQ&&eU<=eN){eA.style.left=eU+"px";if(!eK()){eA.style.right="unset"}}if(eW>=50&&eW<=eO){eA.style[eP]=eW+"px"}}};var dQ=function(){var eL={position:eG(),top:eA.style.top,left:eA.style.left,bottom:eA.style.bottom,right:eA.style.right};bR.setObject(em,eL)};var eG=function(){var eL=bR.getObject(e);var eM=typeof eL.position==="string"&&eL.position!==""&&df();return eM?eL.position:"bottomRight"};var eg=function(){var eL=eG();return eL==="topLeft"||eL==="topRight"};var eK=function(){var eL=eG();return eL==="topLeft"||eL==="bottomLeft"};var dA=function(){var eL=eG();var eO=bU.roistat.onlineChat.customPosition;var eM=eO&&eO.top!==null?eO.top:ec[eL].top;var eP=eO&&eO.right!==null?eO.right:ec[eL].right;var eQ=eO&&eO.bottom!==null?eO.bottom:ec[eL].bottom;var eN=eO&&eO.left!==null?eO.left:ec[eL].left;eA=U()?di(dJ,eB):di(dJ,ev);if(dq(eA)){eA.classList.toggle(ed);eA.setAttribute("style","top: "+eM+";right:"+eP+";bottom:"+eQ+";left:"+eN+";")}};var d1=function(){if(dq(dC)){var eL=eG();dC.setAttribute("style","top: "+eC[eL].top+";bottom:"+eC[eL].bottom+";height:"+eC[eL].height+";")}};var d5=function(){ek("iframe appending to page");var eL=bY.decode(bR.get(x));dJ=A.createElement("div");dJ.innerHTML=eL;A.body.appendChild(dJ);dC=di(A,dT);dA();eH()};var d6=function(){var eM=bR.getObject(e);ek("start filling pulsator");if(eM){if(dq(ef)){ef.setAttribute("style","background: "+eM.button_color+";")}if(dq(dS)){dS.setAttribute("style","fill: "+eM.icon_color+";")}if(Array.isArray(ee)){for(var eL=0;eL<ee.length;eL++){ee[eL].setAttribute("style","fill: "+eM.button_color+";")}}}};var eu=function(){var eM=bY.decode(bR.get(a9));var eN=(eM&&!df()&&da())||bU.roistatOnlineChatOnly;if(eN){ek("pulsator appending to page");var eL=A.createElement("div");eL.innerHTML=eM;eE=eL.childNodes.item(0);ef=di(eE,dX);dS=di(eE,ey);dD=di(eE,d3);ee=A.getElementsByClassName(dN);A.body.appendChild(eE);dG();d6()}};var dG=function(){if(dq(eE)){dp(eE,"click",function(){eq();dz(eE)})}};function dz(eL){if(dq(eL)){eL.classList.toggle("opened")}}var eD=function(){return dq(eA)&&!eA.classList.contains(ed)};var eq=function(){setTimeout(function(){dW=false},3000);if(dq(eA)){eA.classList.toggle(ed)}if(eD()){eF()}dK()};var d4=function(eL){p=eL;if(!dq(ex)){return}dr()};var d8=function(){dU=true;bU.roistatOnlineChatShow=eq;ek("chat window initialized")};function d0(eL){c2(eL);dM()}function ej(){d5();es()}bU.setRoistatOnlineChatCustomParams=d0;bU.roistat.onlineChat.localization.translateToRussian=function(){d4(bz)};bU.roistat.onlineChat.localization.translateToEnglish=function(){d4(cS)};b8(ej)}};function dh(dr){s("Widgets: "+dr)}function c0(dr){return dr!==dn}function c2(dt){var ds=Object.keys(dt);for(var dr=0;dr<ds.length;dr++){dk[ds[dr]]=dt[ds[dr]]}}function df(){var du=Number(bR.get(bn)),dt=Number(bR.get(aU)),dv=Number(bR.get(cj)),dw=Number(bR.get(bE)),dx=Number(bR.get(I)),dy=Number(bR.get(b9)),ds=du&&!dv&&!dw&&!dx&&!dy,dr=dv&&!du&&!dw&&!dx&&!dy;return dt&&!dr&&!ds&&!bU.roistatOnlineChatOnly}function da(){var dr=bR.getObject(w);if(!dr.is_available_for_current_user_agent){s("OnlineChat: Current device group is disabled");return false}if(!dr.pages_filter.is_enabled){s("OnlineChat: Pages filter is disabled");return true}return bp(dr.pages_filter.pages.join(","))}function db(){dh("Multiwidget disabled. Hide leadhunter pulsator from module")
}function c4(dr,dt,ds){bR.set(bC,bY.encode(dr));bR.set(bd,bY.encode(dt));bR.setObject(bB,ds)}function c9(ds,dr){bR.set(cz,bY.encode(ds));bR.setObject(e,dr)}function c8(dt,dr,ds){bR.set(a9,bY.encode(dt));bR.set(x,bY.encode(dr));bR.set(cj,ds)}function dd(dr,dt,ds){c4(dr,dt,ds);bR.set(cz,bY.encode(dn));bR.set(x,bY.encode(dn));dg=false;dl.leadHunter()}function c3(dC,dy,dw){var dt=dC.form_template,dD=dC.pulsator_template,dv=dC.pulsator_settings;if(de()){dd(dt,dD,dv);return}dh("start initing widgets");var dz=dw.pulsator_template,du=dw.iframe_template,dB=dy.pulsator_template,dr=dy.pulsator_settings,dx=Number(bR.get(bn)),ds=Number(dw.settings.is_enabled),dA=bR.getObject(n)!==null;c4(dt,dD,dv);c9(dB,dr);c8(dz,du,ds);if(dA){bR.set(bC,bY.encode(c5()))}dg=true;if(dx&&!bU.roistatOnlineChatOnly){dh("leadhunter enabled. Start processing");dl.leadHunter()}if(ds&&da()){dh("online chat enabled. Start processing");dl.onlineChat()}if(df()){dh("multiwidget enabled. Start processing");dl.multiwidget()}}var c5=function(){var dr=aT()+"//"+t+"/api/site/1.0/"+aO()+"/leadhunter/script/"+bR.get(aF)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+dr+'" frameborder="0"></iframe></div>'};function dm(){var dt=bR.get(bC),dD=bR.get(bd),dv=bR.getObject(bB),dy=bR.get(a9),du=bR.get(x),ds=bR.get(cj),dA=bR.get(cz),dr=bR.getObject(e);bU.roistatLeadhunterForm=dd;bU.roistatMultiwidget=c3;if(!dt||!dD||!dv||!dA||!dr||!dy){dh("requesting data from server");aG(aT()+"//"+t+"/api/site/"+Y+"/"+aO()+"/multiwidget?domain="+encodeURIComponent(A.domain))}else{var dC=bY.decode(dA);var dz=bY.decode(du);if((!c0(dC)||!c0(dz)||de())&&!bU.roistatOnlineChatOnly){dh("initing LeadHunter form");bU.roistatLeadhunterForm(bY.decode(dt),bY.decode(dD),dv)}else{dh("initing multiwidget form");var dw={pulsator_template:dC,pulsator_settings:dr},dx={form_template:bY.decode(dt),pulsator_template:bY.decode(dD),pulsator_settings:dv},dB={iframe_template:dz,pulsator_template:bY.decode(dy),settings:{is_enabled:Number(ds),},};bU.roistatMultiwidget(dx,dw,dB)}}}function de(){var ds=aO()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||aO()==="4",dr=bU.location.host==="cloud.roistat.com"&&bU.location.pathname!=="/user/login"&&bU.location.pathname!=="/user/register";if((ds&&!dr)||(aO()==="489852fc24e99416c9e7336f08ba22dc"&&bU.location.host==="q92571df.beget.tech")){dh("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false}function dc(){dm();dh("Widgets: form initialized")}function dj(){dh("activated");dc()}b8(dj);bU.setRoistatOnlineChatCustomParams=c2;bU.roistatSaveLeadHunterTemplates=c4;bU.roistatSaveMultiwidgetTemplate=c9;bU.roistatSaveOnlineChatTemplate=c8})();(function r(){var dd=function(){return i(cV)};var db=function(){return bR.get(a2)};var c4=function(){return bR.get(bf)};var dh=function(dj){return dj!=null&&dj!==bm&&dj!==""};var dg=function(){var dj=[];var dk=A.getElementsByClassName(af);if(dk&&dk.length){dj=dk}return dj};var c2=function(){var dj=[];var dk=A.getElementsByClassName(z);if(dk&&dk.length){dj=dk}return dj};var c1=function(){var dj=[];var dk=A.getElementsByClassName(aa);if(dk&&dk.length){dj=dk}return dj};var c6=function(){var dj=[];var dk=A.getElementsByClassName(C);if(dk&&dk.length){dj=dk}return dj};var c9=function(){var dj=[];var dk=A.getElementsByClassName(cN);if(dk&&dk.length){dj=dk}return dj};var c0=function(dx,dk){s("CallTracking: RenderPhone phone = "+dx);var dq=function(dz){return dz.split(/[^0-9]/).join("")};var dr=function(dC,dE){var dH=null;if(!dC){return dH}var dz=dE.split(",");if(dz.length<2){dH=dE}else{var dA=dC.getAttribute("data-prefix");if(dA){for(var dD=0;dD<dz.length;dD++){var dF=dz[dD];var dG=dq(dF);if(dG.indexOf("8")===0){dG="7"+dG.substring(1)}var dB=dG.split(dA)[0]==="";if(dB){dH=dF;break}}}if(dH===null){dH=dz[0]}s("CallTracking._getPhoneForElement: Prepared phone = "+dH+" for data-prefix = "+dA)}return dH};var dn=function(dD,dB){var dz=dr(dD,dB);if(!dz||!dD){return}if(dD.tagName.toLowerCase()!=="a"){return}var dC=dD.getAttribute("href");if(cC(dC,"tel:")){var dA=dq(dz);if(dA.indexOf("8")===0){dA="7"+dA.substring(1)}dD.setAttribute("href","tel:+"+dA);dp(dD,dz)}};var dp=function(dA,dz){if(!dA.hasAttribute("title")){return}dA.setAttribute("title",dz)};var dt=function(dB,dA){var dz=dr(dB,dA);if(!dz||!dB){return}dB.innerHTML=dz};var dy=function(dz){var dA=dg();s("CallTracking: render phone default classes for "+dA.length+" elements");q(dA,function(dB){dt(dB,dz);dn(dB,dz)});q(c2(),function(dC){var dB=dq(dr(dC,dz)).slice(0,1);dt(dC,dB)});q(c1(),function(dC){var dD=dr(dC,dz).match(/\((.*)\)/);if(dD!==null){var dB=dD[1];dt(dC,dB)}});q(c6(),function(dD){var dB=dr(dD,dz).match(/\)(.*)/);if(dB!==null){var dE=dq(dB[1]);var dC=dE.slice(-1*dE.length,-4)+"-"+dE.slice(-4,-2)+"-"+dE.slice(-2);dt(dD,dC)}});q(c9(),function(dB){dn(dB,dz)})};var dw=function(dz,dE){if(!dE){return}s("CallTracking: render phone user replacement for "+dE.length+" replacements");
for(var dD=0;dD<dE.length;dD++){var dG=dE[dD];if(!dG){continue}var dB=dG[0];dG=dG.substr(1);var dF=[];if(dB==="#"){var dC=A.getElementById(dG);if(dC!==null){dF.push(dC)}}else{dF=A.getElementsByClassName(dG);dm(dG,dz)}if(!dF||dF.length<1){continue}s("CallTracking: render phone for "+dG+", "+dF.length+" elements");for(var dA=0;dA<dF.length;dA++){dt(dF[dA],dz);dn(dF[dA],dz)}}};var ds=function(dz){for(var dA=0;dA<dz.length;dA++){dw(dz[dA].phone,dz[dA].css_selectors);dv(dz[dA].phone,dz[dA].replaceable_numbers)}};var dv=function(dB,dA){if(!dA||dA.length===0){return}var dz=function(){var dM=dF();var dL=A.getElementsByTagName("*");var dG=dL.length;for(var dK=0;dK<dG;dK++){var dN=dL[dK];dC(dN,dM,dr(dN,dB));var dJ=dN.childNodes.length;for(var dH=0;dH<dJ;dH++){var dI=dN.childNodes[dH];dE(dI,dM,dr(dI,dB))}}};var dC=function(dK,dJ,dG){if(!dD(dK)){return}var dL=dK.getAttribute("href").replace("tel:","");var dI=dJ.length;for(var dH=0;dH<dI;dH++){if(dJ[dH].test(dL)){dn(dK,dr(dK,dG))}}};var dD=function(dH){if(dH.tagName.toLowerCase()!=="a"){return false}var dG=dH.getAttribute("href");return aK(dG)&&dG.indexOf("tel:")===0};var dF=function(){var dI=[];for(var dG=0;dG<dA.length;dG++){var dH="[\\s()[\\]{}\\-+.]*";var dJ=dA[dG].split("").join(dH);dI.push(new RegExp("[+(]?"+dJ,"g"))}return dI};var dE=function(dJ,dI,dG){if(dJ.nodeType!==Node.TEXT_NODE){return}for(var dH=0;dH<dI.length;dH++){if(dJ.textContent&&dI[dH].test(dJ.textContent)){dJ.textContent=dJ.textContent.replace(dI[dH],dG)}else{if(dJ.innerText&&dI[dH].test(dJ.innerText)){dJ.innerText=dJ.innerText.replace(dI[dH],dG)}}}};dz()};var dm=function(dA,dz){q(dl(dA+"-"+bt),function(dC){var dB=dq(dr(dC,dz)).slice(0,1);dt(dC,dB)});q(dl(dA+"-"+aA),function(dC){var dD=dr(dC,dz).match(/\((.*)\)/);if(dD!==null){var dB=dD[1];dt(dC,dB)}});q(dl(dA+"-"+a1),function(dD){var dB=dr(dD,dz).match(/\)(.*)/);if(dB!==null){var dE=dq(dB[1]);var dC=dE.slice(-1*dE.length,-4)+"-"+dE.slice(-4,-2)+"-"+dE.slice(-2);dt(dD,dC)}});q(dl(dA+"-"+bH),function(dB){dn(dB,dz)})};var dl=function(dA){var dz=[];var dB=A.getElementsByClassName(dA);if(dB&&dB.length){dz=dB}return dz};var du=function du(){var dA=c4();if(dA){dA=dA.split("\n");for(var dz=0;dz<dA.length;dz++){dA[dz]="."+dA[dz]}}if(dk instanceof Array){ds(dk)}else{dy(dx);dw(dx,dA)}};(function dj(){du();var dz=[300,5000,15000];dz.forEach(function(dA){setTimeout(du,dA)})})()};var c3=function(dj){bR.save(l,dj,cq)};var dc=function(){if(bU.roistat.callTracking.phone){var dj={expires:parseInt(bU.roistat.callTracking.sessionTime),path:"/"};if(cq.domain){dj.domain=cq.domain}cO(cV,bU.roistat.callTracking.phone,dj);c3(1);bR.save(bf,bU.roistat.callTracking.replacementClasses,cq);bR.save(a2,bU.roistat.callTracking.phoneScriptsJson,cq)}};var da=function(dj,dn,dl,dk){s("CallTracking: reuse phone "+dj+" for time "+dn+" and replacements "+dl);if(!dh(dj)){s("CallTracking: new phone is invalid");roistat.callTracking.phone=null;cG();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=dj;roistat.callTracking.sessionTime=dn;roistat.callTracking.replacementClasses=dl;roistat.callTracking.phoneScriptsJson=dk;cG();dc();var dp={expires:parseInt(dn),path:"/"};if(cq.domain){dp.domain=cq.domain}cO(cV,dj,dp);bR.save(a2,dk,cq);bR.save(bf,dl,cq);var dm=cK(dk);if(dm==null){c0(dj)}else{c0(dj,dm)}};var c5=function(){s("CallTracking: request new phone");var dj=i(bM);var dn=ac();var dm=dn?dn:bg;var dl=encodeURIComponent(b6);var dk=G()+"/get-phone?visit="+dj+"&marker="+(dm?dm:"")+"&prefix="+cf+"&prefix_bind="+cW+"&phone_scripts_bind="+J+"&page="+dl;aG(dk)};var c7=function(){cf=bU.roistatPhonePrefix?bU.roistatPhonePrefix:"";cW=bU.roistatPhonePrefixBind?bU.roistatPhonePrefixBind:"";J=bU.roistatCalltrackingScripts&&bU.roistatCalltrackingScripts.join?bU.roistatCalltrackingScripts.join(","):"";s("CallTracking: refresh phone with prefix: "+cf+", binding: "+cW+", scripts: "+J);c5()};var di=function(){var dj=bR.get(l)>0;var dk=bD.callTrackingEnabled;return dj&&dk};var c8=function(dj){c3(dj.is_enabled)};var df=function df(){var dj=dd();if(!dh(dj)){s("CallTracking: invalid phone "+dj+", requesting a new one");c5()}else{s("CallTracking: render phone "+dj);var dk=cK(db());if(dk==null){c0(dj)}else{c0(dj,dk)}}};var de=function(){s("CallTracking: init");if(bU.roistatOnlineChatOnly){s("CallTracking: Shut down because only online chat need to be inited");return}dc();if(!di()){s("CallTracking: disabled, skip");return}if(bD.callTrackingManual){s("CallTracking: init finish because off manual");return}df();al(df)};bU.roistatCallTrackingRefresh=c7;bU.roistatRequestNewPhone=c5;bU.roistatReusePhone=da;bU.roistatCalltrackingUpdateSettings=c8;b8(de)})();(function y(){var c2=function(c8){s("Emailtracking: "+c8)};var c6=function(c8,da,c9){bR.save(be,c8,cq);bR.save(b,da,cq);bR.save(bq,JSON.stringify(c9),cq)};var c1=function(){var c8=(bU.roistat.emailtracking.email&&bU.roistat.emailtracking.trackingEmail)||aB(bU.roistat.emailtracking.emails);if(bU.roistat.emailtracking.loaded&&c8){c2("save loaded email: "+bU.roistat.emailtracking.email);
c6(bU.roistat.emailtracking.email,bU.roistat.emailtracking.trackingEmail,bU.roistat.emailtracking.emails)}else{c2("settings save skip, because not loaded");bU.roistat.emailtracking.email=bR.get(be);bU.roistat.emailtracking.email=bU.roistat.emailtracking.email?bU.roistat.emailtracking.email:null;bU.roistat.emailtracking.email=bU.roistat.emailtracking.email==="null"?null:bU.roistat.emailtracking.email;c2("email loaded from storage: "+bU.roistat.emailtracking.email);bU.roistat.emailtracking.trackingEmail=bR.get(b);bU.roistat.emailtracking.trackingEmail=bU.roistat.emailtracking.trackingEmail?bU.roistat.emailtracking.trackingEmail:null;bU.roistat.emailtracking.trackingEmail=bU.roistat.emailtracking.trackingEmail==="null"?null:bU.roistat.emailtracking.trackingEmail;c2("tracking email loaded from storage: "+bU.roistat.emailtracking.trackingEmail);bU.roistat.emailtracking.emails=cK(bR.get(bq));bU.roistat.emailtracking.emails=bU.roistat.emailtracking.emails?bU.roistat.emailtracking.emails:null;c2("emails loaded from storage: "+JSON.stringify(bU.roistat.emailtracking.emails))}};var c4=function(c8){c6(c8.email,c8.trackingEmail,c8.emails)};var c3=function(){var c8=(!!bU.roistat.emailtracking.email&&!!bU.roistat.emailtracking.trackingEmail)||aB(bU.roistat.emailtracking.emails);return bU.roistat.emailtracking.enabled&&c8};var c0=function(){if(!c3()){c2("emailtracking disabled, skip swapping");return}var c9=function(de,df,dd){if(de.href){var dc=aq(de.href);if(df.test(dc)){de.href=dc.replace(df,dd);return true}}if(de.nodeType!==3){return false}if(de.textContent&&df.test(de.textContent)){de.textContent=de.textContent.replace(df,dd);return true}else{if(de.innerText&&df.test(de.innerText)){de.innerText=de.innerText.replace(df,dd);return true}}return false};var c8=function(dc){return dc.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var da=function(de,dd){var dc=!dd.match(/[a-z]/);return dc?de.toUpperCase():de};var db=function(dk,dm){var dn=c8(dk);var de=new RegExp("(^|\\s)(mailto:)?("+dn+")($|\\s|\\?)","gi");var dp=function(du,ds,dq,dr,dt){dq=dq||"";return ds+dq+da(dm,dr)+dt};c2("starting to replace email "+dk+" to "+dm+" with regexp "+de);var dd=A.getElementsByTagName("*");var dg=dd.length;c2("found "+dg+" nodes on page");var dj=0;for(var di=0;di<dg;di++){var df=dd[di];var dl=df.childNodes.length;if(dl>0){for(var dh=0;dh<dl;dh++){var dc=df.childNodes[dh];if(c9(dc,de,dp)){dj++}}}if(c9(df,de,dp)){dj++}}c2("successfully replaced "+dj+" nodes")};if(bU.roistat.emailtracking.emails){a5(bU.roistat.emailtracking.emails,db)}else{db(bU.roistat.emailtracking.email,bU.roistat.emailtracking.trackingEmail)}};var c5=function(){c2("process email swap");c0();setTimeout(function(){c0()},300);setTimeout(function(){c0()},5000);setTimeout(function(){c0()},15000)};var c7=function(){c2("init");if(bU.roistatOnlineChatOnly){c2("Shut down because only online chat need to be inited");return}al(c5);c1();c5()};bU.roistatEmailtrackingUpdateSettings=c4;bU.roistat.emailtracking.refresh=c0;b8(c7)})();(function a7(){var c3=function(c5){s("MultiDomain: "+c5)};var c2=function(){return bR.get(cs)>0};var c1=function(c9){var da=function(dc){if(!dc){return false}if(cC(dc,"roistat_visit")){return false}var db=aS(dc);var de=aS(A.domain);var dd=new RegExp(/^((https?:)?\/\/)?([A-Z-0-9\_\-\~]+\.)+[A-Z-0-9\_\-\~]+/i);return db!==de&&dd.test(dc)};var c8=function(de){var df=de.split("#");var dd=df[0].split("?");var db="";var dc="";if(dd.length===2){db=dd[1]}if(db){dc="&"}db=db+dc+"roistat_visit="+roistat.getVisit();dd[1]=db;df[0]=dd.join("?");return df.join("#")};if(c9.tagName.toLowerCase()!=="a"){return}var c7=c9.getAttribute("href");var c6=false;if(da(c7)){var c5=c8(c7);c3("update url "+c7+" > "+c5);c9.setAttribute("href",c5);c6=true}return c6};var c0=function(){if(!c2()){c3("disabled, skip");return}var c5=A.getElementsByTagName("a");var c6=c5.length;c3("found "+c6+" <a> nodes on page");var c9=0;for(var c7=0;c7<c6;c7++){var c8=c5[c7];if(c1(c8)){c9++}}c3("replaced "+c9+" nodes")};var c4=function(){c3("init");if(bU.roistatOnlineChatOnly){c3("Shut down because only online chat need to be inited");return}c0();setTimeout(function(){c0()},300);setTimeout(function(){c0()},5000);setTimeout(function(){c0()},15000)};b8(c4)})();(function cB(){var c0=60*1000;var c7=2*60*1000;var c1=function(c9){s("SettingsUpdater: "+c9)};var c5=function(){bR.set(R,bW())};var c6=function(){var da=cH();var c9=!(da>0);c1("is first update check: lastUpdateTime="+da+", result="+(c9?1:0));return c9};var c8=function(){var db=bW()-c7;var da=cH();var c9=da<=db;c1("expiration check: _minTime="+db+", lastUpdateTime="+da+", result="+(c9?1:0));return c9};var c2=function(da){var c9=i(bM);a(c9,da)};var c3=function(da){c1("update settings and save last update time");var c9=bR.getObject(n)!==null;if(c9){bR.set(n,da.js_settings.leadHunterTargetPagesMap)}bU.roistatCalltrackingUpdateSettings(da.calltracking);bU.roistatEmailtrackingUpdateSettings(da.emailtracking);bU.roistatSaveLeadHunterTemplates(da.leadhunter_templates.form_template,da.leadhunter_templates.pulsator_template,da.leadhunter_templates.pulsator_settings);
bU.roistatSaveMultiwidgetTemplate(da.multiwidget_templates.pulsator_template,da.multiwidget.pulsator_settings);bU.roistatSaveOnlineChatTemplate(da.online_chat_templates.pulsator_template,da.online_chat_templates.iframe_template);bU.roistatSaveProxyFormSettings(da.proxy_forms);aV(da.js_settings);cr(da.multiwidget.multiwidget_settings);bV(da.online_chat);bO.isSettingsUpdating=false;c5()};var c4=function(){c1("init");if(c6()){c1("in first update we just start first timer and skip");c5();return}if(!c8()){c1("update is not not expired, skip");return}c1("start to update settings");c2()};b8(function(){bU.roistatUpdateSettings=c3;setTimeout(function(){c4()},3000);c1("set interval to update settings");setInterval(function(){c4()},c0)})})();(function bx(c4,c0,c6){var c3={};var c1=function(c8){var c7=encodeURIComponent?encodeURIComponent:encodeURI;return c7(c8)};var c2=function(de,c8){s("Reach goal start");if(!de){de={}}var db={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:ca(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var da in db){if(!Object.prototype.hasOwnProperty.call(db,da)){continue}if(!Object.prototype.hasOwnProperty.call(de,da)){continue}if(!de[da]){continue}if(da==="fields"||da==="client_fields"||da==="items"||da==="placeholders_data"){de[da]=JSON.stringify(de[da])}db[da]=c1(de[da])}var dd=aO();var dc=aT()+"//"+t+"/api/site/"+Y+"/"+dd+"/reach-goal?v=2";for(var c9 in db){if(!Object.prototype.hasOwnProperty.call(db,c9)){continue}dc=dc+"&"+c9+"="+db[c9]}if(c8!==c6){var c7=Math.random().toString();c3[c7]=c8;dc+="&callback_key="+c7}aG(dc);s("Reach goal completed")};var c5=c4.roistatGoal={reach:function(c8,c7){c2(c8,c7)},callAfterReachCallback:function(c7){if(Object.prototype.hasOwnProperty.call(c3,c7)){c3[c7]();delete c3[c7]}}}})(bU,A,bm);(function cQ(c2,c0,c3){var c1=function(c8){if(c8 instanceof Array||c8===null||typeof c8!=="object"){s("Invalid event data");return""}var c5=[];for(var c7 in c8){if(Object.prototype.hasOwnProperty.call(c8,c7)){var c6=c8[c7];if(typeof c6==="string"||typeof c6==="number"){c5.push("data["+encodeURIComponent(c7)+"]="+encodeURIComponent(c6))}else{s("Event data property ignored: "+c7)}}}return c5.length>0?"&"+c5.join("&"):""};var c4=function(c7,c8){s("Send event start");var c5=m();var c6=G()+"/event/register?visit="+c5+"&event="+c7+c1(c8);aG(c6);s("Send event completed")};c2.roistat.event={send:function(c5,c6){c4(c5,c6)}}})(bU,A,bm);(function bS(da,dc,c3){if(da.roistatOnlineChatOnly){s("VisitApprove: Shut down because only online chat need to be inited");return}var dd=da.roistatIsInitVisit===true?20000:10000;var c2=(new Date()).getTime();var c1=function(dh){return"approve_visit_"+dh};var c9=function(dh){bJ.set(c1(dh),1)};var de=function(dh){return bJ.get(c1(dh))>0};var c0,c5,dg=[];if(dc.addEventListener){c0=function(di,dh,dj){return di.addEventListener(dh,dj,false)};c5=function(di,dh,dj){return di.removeEventListener(dh,dj,false)}}else{c0=function(di,dh,dj){return di.attachEvent("on"+dh,dj)};c5=function(di,dh,dj){return di.detachEvent("on"+dh,dj)}}var c8=function(dk){if(dg.length>30){return}dk=dk||da.event;if(!dk||!dk.screenX){return}var dj=(new Date()).getTime();var dm,dl=null;if(dg.length>0){dl=dg[dg.length-1]}if(dl){dm=dj-dl.time}else{dm=dj-c2}if(dm<300){return}dm=dm-300;var dp=0;var dh=dk.screenX;var dn=dk.screenY;if(dl){dp=parseInt(Math.sqrt(Math.pow(dl.y-dn,2)+Math.pow(dl.x-dh,2)))}var di={time:dj,pauseBeforeMove:dm,x:dh,y:dn,distance:dp};dg.push(di)};var c7=function(){var dh=[];q(dg,function(di){var dj=[di.pauseBeforeMove,di.distance];dh.push(dj.join(":"))});if(dh.length===0){dh.push("0:0")}return dh.join("|")};var c4=function(){for(var dh in da){if(cC(dh,"yaCounter")){return true}}return false};var db=function(){c5(dc,"mousemove",c8);var dh=m();s("VisitApprove: start for visit "+dh);if(de(dh)){s("VisitApprove: visit already approved, skip");return}c9(dh);ao();var di=G()+"/approve?v="+N+"&visit="+dh;if(df()){di+="&hash="+ah()}if(c6()){di+="&page_params="+encodeURIComponent(JSON.stringify(da.roistat.page.params));f()}di+="&mv="+c7();di+="&pl="+(da.navigator?da.navigator.platform:"");di+="&ym="+(c4()?"1":"0");aG(di)};var df=function(){var dl=bO.cookies,dk=k();var dn=aY();for(var di=0;di<dn.length;di++){var dm=dn[di];var dp=Object.prototype.hasOwnProperty.call(dl,dm)?dl[dm]:c3;var dh=Object.prototype.hasOwnProperty.call(dk,dm)?dk[dm]:c3;var dj=typeof dh==="string"&&dh.length>0;if(dj&&dp!==dh){return true}}return false};var c6=function(){var dm=bO.pageParams,dj=da.roistat.page.params;for(var di=0;di<cg.length;di++){var dh=cg[di];var dk=Object.prototype.hasOwnProperty.call(dm,dh)?dm[dh]:null;var dl=Object.prototype.hasOwnProperty.call(dj,dh)?dj[dh]:null;if(dl!==dk){return true}}return false};setTimeout(function(){db()},dd);c0(dc,"mousemove",c8)})(bU,A,bm);(function am(c5,c6,c1){var c3=function(){return Q("roistat_ab_demo")==="1"};var c7=function(da){return new RegExp(da.split(".").join("\\.").split("*").join(".*").split("?").join("."))
};var c4=function(df){var da=c5.location.href,dd=df.filter,dj=df.filterValue;var dg;switch(dd){case"except":case"pages":var db,di,dh=false;di=da?ay(da):"";dg=dj?dj.split("\n"):[];if(di&&dg.length!==0){for(var dc=0;dc<dg.length;dc++){var de=dg[dc].trim();if(de.length===0){continue}db=c7(de);if(db.test(di)){dh=true;break}}}return(dd==="pages")?dh:!dh;break;case"all":default:return true}};var c0=function(dc){var da=c6.getElementsByTagName("head")[0],db;db=c6.createElement("style");db.setAttribute("type","text/css");if(db.styleSheet){db.styleSheet.cssText=dc.value}else{db.innerText=dc.value}da.appendChild(db)};var c2=function(da){if(c4(da)){switch(da.type){case"css":c0(da);break}}};c5.applyTests=function(){var da=bR.getObject("abTesting");var dc,db;for(dc in da){if(!Object.prototype.hasOwnProperty.call(da,dc)){continue}db=da[dc];c2(db)}};var c8=function(){s("Call: apply demo AB test");var da=Q("roistat_ab_data");var db;if(da===null){return}else{db=JSON.parse(bY.decode(da))}if(typeof db!=="object"){s("Error: testValue is not an object.");return}c2(db)};function c9(){if(c5.roistatOnlineChatOnly){s("ABTest: Shut down because only online chat need to be inited");return}var da=c3();if(!cx&&!da){applyTests()}if(da){c8()}}c9()})(bU,A,bm);(function aW(c1,c0,c2){if(c1.roistatOnlineChatOnly){s("visitStreamNew: Shut down because only online chat need to be inited");return}if(!cA){return}setTimeout(function(){(function(c9,c8,dc,db,c6,c4,c7){c9[c6]={COUNTER_ID:c4,HOST:c7};var c5=c8.location.protocol=="https:"?"https://":"http://";var c3=c8.createElement(dc);c3.async=1;c3.src=c5+c7+db;var da=c8.getElementsByTagName(dc)[0];da.parentNode.insertBefore(c3,da)})(c1,c0,"script","/counter.js","datamap",aO(),cA)},1000)})(bU,A,bm);(function bQ(c2,c0,c3){var c4=function(){var c5=c2.roistatMetrikaCounterId;if(c5){bR.set(aI,c5)}};var c1=function(da){var c5="yaCounter"+da;var c9=100,c7=0,c8=60000;var c6=function(){c7+=c9;s("YandexMetrika: trying to access counter "+da);if(c2[c5]===c3){if(c7<c8){setTimeout(c6,c9);c9*=2}return}var db={};db[cn]=m();c2[c5].params(db);s("YandexMetrika: visit id "+db[cn]+" sent to counter "+da)};setTimeout(c6,c9)};b8(function(){c4();var c7=bR.get(aI);if(!c7){s("YandexMetrika: counter id not found");return}var c6=String(c7).split(",");s("YandexMetrika: counters: "+c6);for(var c5=0;c5<c6.length;c5++){if(c6[c5].trim()===""){continue}c1(c6[c5])}})})(bU,A,bm);(function ai(da,de){var di=function(dl){s("Proxy Forms: "+dl)};var c7=function(){if(da.roistat.proxyForms.loaded&&da.roistat.proxyForms.settings.length>0){di("save loaded settings");df(da.roistat.proxyForms.settings)}else{di("settings not loaded, getting from storage");da.roistat.proxyForms.settings=bR.getObject(cP)||[]}};var df=function(dl){bR.setObject(cP,dl)};var db=function(){di("init form listener");c3(da.roistat.proxyForms.settings);c0(da.roistat.proxyForms.settings)};var dk=function(dl){return dl.hasOwnProperty("hosts")&&dl.hasOwnProperty("is_excluding_hosts")&&bc(dl.hosts)&&dl.hosts.length>0};var c5=function(dm){if(!dk(dm)){return true}var dn=cI(dm.hosts,aS(da.location.host));var dl=Boolean(dm.is_excluding_hosts);return dl?!dn:dn};var c2=function(dm){var dl=[];q(dm,function(dn){if(c5(dn)){dl.push(dn)}});return dl};var c0=function(dl){var dn=[];q(dl,function(dp){if(dp.type==="js-button"){dn.push(dp)}});if(dn.length<1){di("no button settings");return}var dm;if(de.addEventListener){dm=function(dp){c6(dn,dp,dp.target,c4)};de.addEventListener("click",dm,true)}else{if(de.attachEvent){dm=function(){var dp=da.event;c6(dn,dp,dp.srcElement,c4,true)};de.attachEvent("onclick",dm)}else{di("Listener could not be attached")}}};var c3=function(dm){var dl=[];q(dm,function(dp){if(dp.type==="form"){dl.push(dp)}});if(dl.length<1){di("no form settings");return}if(de.addEventListener){var dn=function(dp){c6(dl,dp,dp.target,dj)};de.addEventListener("submit",dn,true)}else{if(de.attachEvent){setInterval(function(){dl=c2(dl);var dp=de.getElementsByTagName("form");q(dp,function(dq){if(dq.getAttribute("data-roistat-proxy-form-checked")==="true"){return}dq.setAttribute("data-roistat-proxy-form-checked","true");q(dl,function(dr){if(c1(dq,dr.selector)){dq.attachEvent("onsubmit",function(){da.event.returnValue=false;dj(dr,da.event.srcElement)})}})})},2000)}else{di("Listener could not be attached")}}};var c6=function(dp,dq,dr,dn,dl){var ds=c2(dp);var dm=null;q(ds,function(dt){if(c1(dr,dt.selector)){dm=dt}});if(dm===null){di("No matched settings found for listener");return}dn(dq,dm,dr,dl)};var dj=function(dq,dn,dp,dm){var dl=dd(dp,dn);if(!dg(dl,dn)){return}dm?dq.returnValue=false:dq.preventDefault();c8(dl,dn,function(){HTMLFormElement.prototype.submit.call(dp)})};var c4=function(dn,dm){var dl=dd(null,dm);if(!dg(dl,dm)){return}c8(dl,dm)};var c8=function(dl,dp,dr){var dq={};var dn=c9(dp.crm)&&dp.crm.hasOwnProperty("is_enabled");var dm=dn?dp.crm.is_enabled:true;dq.leadName=dp.hasOwnProperty("lead_name")?dp.lead_name:"    "+dp.title;dq.formTitle=dp.title;dq.name=dl.name;dq.phone=dl.phone;
dq.email=dl.email;dq.text=dl.comment;dq.fields=dl.fields;dq.placeholders_data=dl.placeholdersData;dq.is_need_callback=dp.is_need_callback>0?1:0;dq.is_skip_sending=!dm;da.roistatGoal.reach(dq,dr)};var c9=function(dl){return(typeof dl==="number"&&!isNaN(dl))||(typeof dl==="string"&&dl!=="")||(typeof dl==="object"&&dl!==null)||(typeof dl==="boolean"&&dl)||bc(dl)};var dg=function(dl,dn){var dm=[],dq=["name","email","phone","comment"];q(dq,function(dr){if(dn.hasOwnProperty(dr)&&dn[dr].required>0){dm.push(dr)}});if(bc(dn.fields)){q(dn.fields,function(dr){if(dr.required>0){dm.push(dr)}})}var dp=true;q(dm,function(dr){if(!dl.hasOwnProperty(dr)||!c9(dl[dr])){dp=false}});return dp};var dd=function(dn,dm){var dl={};dl.name=dm.name?dc(dn,dm.name.value,dm.name.type):"";dl.phone=dm.phone?dc(dn,dm.phone.value,dm.phone.type):"";dl.email=dm.email?dc(dn,dm.email.value,dm.email.type):"";dl.comment=dm.comment?dc(dn,dm.comment.value,dm.comment.type):"";dl.fields={};dl.placeholdersData={orderPage:b6};if(bc(dm.fields)){q(dm.fields,function(dp){dl.fields[dp.name]=dc(dn,dp.value,dp.type)})}return dl};var dc=function(dm,dq,dl){switch(dl){case"plain":return dq||"";case"input":var dp=dm.querySelector('input[name="'+dq+'"]');return dp?dp.value:"";case"js":try{return(new Function(dq))()}catch(dn){return""}}};var dh=function(){di("init");if(da.roistatOnlineChatOnly){di("Shut down because only online chat need to be inited");return}if(!da.roistat.proxyForms.enabled){di("disabled");return}c7();db()};var c1=function(dp,dm){if(typeof Element!=="undefined"&&Element.prototype.matches){var dl=dp.matches(dm);if(!dl){return dp.closest(dm)?dp.closest(dm).matches(dm):false}return dl}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var dq=dp.matchesSelector(dm);if(!dq){return dp.closest(dm)?dp.closest(dm).matches(dm):false}return dq}else{if(de.querySelectorAll){var dr=de.querySelectorAll(dm);for(var dn=0;dn<dr.length;dn++){if(dr[dn]===dp){return true}}return false}}}return false};b8(dh);da.roistatSaveProxyFormSettings=df})(bU,A);(function F(){if(bU.onRoistatAllModulesLoaded!==bm&&typeof bU.onRoistatAllModulesLoaded==="function"){s("onRoistatAllModulesLoaded: call");bU.onRoistatAllModulesLoaded()}})();(function aP(c7,da,c4){var c0=function(){return bR.get(ad)*1>0};var c9=function(dg){s("Request listener: "+dg)};var df=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var c8=/^[^\s]+[@][^\s]+$/g;var c3=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var c2=function c2(){c9("listen");if(c7.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function di(dl){var dk=this;db(dk.responseURL,dl,function(){dk.oldSend(dl)})}XMLHttpRequest.prototype.send=di}if(c7.ActiveXObject){var dh=dj;function dj(dm){var dk=new dh(dm);var dn={};if(dm.toLowerCase()==="msxml2.xmlhttp"){dn={_ax:dk,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var dl="";dn._onReadyStateChange=function(){var dp=dn;return function(){dp.readyState=dp._ax.readyState;if(dp.readyState===4){dp.responseText=dp._ax.responseText;dp.responseXml=dp._ax.responseXml;dp.status=dp._ax.status;dp.statusText=dp._ax.statusText}if(dp.onReadyStateChange){dp.onReadyStateChange()}}}();dn.open=function(dt,dr,ds,dp,dq){dl=dr;ds=(ds!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(dt,dr,ds,dp,dq)};dn.send=function(dp){var dq=this;db(dl,dp,function(){this._ax.send(dp)})}}else{dn=dk}return dn}c7.ActiveXObject=dj}if(c7.fetch){var dg=fetch;fetch=function(dk,dl){db(dk.url,dl||{});return dg(dk,dl||{})}}c7.addEventListener("submit",function(dn){var dq=dn.target.elements;var dp={};for(var dm=0;dm<dq.length;dm++){var dl=dq[dm];var dk=dl.getAttribute("name");dp[dk]=dl.value}db("",dp)})};function c5(dg){var dj={};if(dg.length===0){return dj}var di=dg.split("?");if(di.length<2){return dj}var dh=di[1];dj=c1(dh);return dj}function c1(dh){var di=dh.split("&"),dk={};for(var dg=0;dg<di.length;dg++){var dj=di[dg].split("=");if(dj.length<2){continue}dk[dj[0]]=dj[1]}return dk}function dd(dy){c9("data: "+JSON.stringify(dy));var dr={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var dn={email:"",phone:"",name:""};for(var dg in dr){var du=dr[dg];for(var dt in du){if(du.hasOwnProperty(dt)){if(dy.hasOwnProperty(du[dt])){dn[dg]=dy[du[dt]];break}}}}c9("new data: "+JSON.stringify(dn));var di=dn.phone.length===0;var dm=dn.email.length===0;if(!di&&!dm){return dn}var dh=new RegExp(c8);var dl=new RegExp(df);var dp=Object.keys(dy);for(var dv=0;dv<dp.length;dv++){var ds=decodeURIComponent(String(dy[dp[dv]]));if(dm){var dj=ds.match(dh);if(dj&&dj.length>0){var dq=dn.email;dn.email=dj[0];c9("parsing email, before: "+dq+", after: "+dn.email)}}if(di){var dx=ds.replace(/[\s-.()+*_:;'"`]/g,"");
var dw=dx.match(dl);if(dw&&dw.length>0){var dk=dn.phone;dn.phone=ds;c9("parsing phone, before: "+dk+", after: "+dn.phone)}}}return dn}var c6=function(dg){var dh=aS(dg);return !aj(c3,dh)};function db(di,dh,dg){if(di.length>0&&!c6(di)){return}var dk=c5(di);var dm=dh;if(typeof dm==="string"){dm=c1(dm)}c9("data before parsing "+JSON.stringify({get:dk,post:dm}));var dl=dd(dk);var dj=dd(dm);c9("data after parsing "+JSON.stringify({get:dl,post:dj}));dc(dl,dj,dg)}function dc(dg,di,dm){var dl=dg.email.length>0?dg.email:di.email;var dh=dg.phone.length>0?dg.phone:di.phone;var dk=dg.name.length>0?dg.name:di.name;if(dl.length==0&&dh.length==0){dm();return}setTimeout(function(){dm()},100);var dj={leadName:"   ",name:dk,phone:dh,email:dl,is_skip_sending:1};c9("phone or email is not empty, reaching goal "+JSON.stringify(dj));roistatGoal.reach(dj)}(function de(){if(!c0()){c9("disabled, skip");return}c2()})()})(bU,A,bm)})(window,document,undefined);